/* empty css             *//* empty css                  *//* empty css              *//* empty css                  *//* empty css               */import{_ as I,e as C}from"./message.eeb77a08.js";import"./javascript.df212a12.js";import{d as ae,r as i,S as M,o as te,T as ue,b as ne,M as se,c as oe,Z as ie,W as de,U as pe,V as re,e as k,h as A,N as o,g as a,w as t,n as r,F as me,i as xe,u as fe,O as ce,P as U,j as ve,$ as x,K as _e,_ as ye}from"./index.ba988482.js";const Be={class:"container"},ge={class:"searchInput"},we={class:"index-item"},Ee={style:{"font-size":"28px","font-weight":"bold"}},Ve={class:"health-font",style:{"font-size":"18px"}},Fe={class:"health-font"},he={class:"index-size"},be={class:"index-size"},De={class:"index-size"},Ie={class:"editClass"},Ce=ae({__name:"esIndex",setup(ke){const w=i(!1),_=i(!1),F=i(!1),h=i("{}"),s=M({indexName:"",number_of_shards:5,number_of_replicas:1,max_result_window:1e4,refresh_interval:"1s",alias:""}),y=i(""),b=i(""),B=i(""),S=async()=>{U.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{z(f.value),C.success()}).catch(()=>{})},z=async u=>{const e={indexName:s.indexName,alias:s.alias,esSettings:{...s},mapping:JSON.parse(h.value)};let n=await m.$api.esIndex.createIndex(e);console.log(n),w.value=!1},T=async()=>{U.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{O(f.value,y.value),C.success()}).catch(()=>{})},O=async(u,e)=>{const n={indexName:u,mappings:e};await m.$api.esIndex.putMapping(n),c.value=!1,E("")},J=u=>{y.value=u},g=i("");M({id:null,unikey:"",name:"",address:"http://",username:"",password:"",schema:"http"});let c=i(!1),f=i("");const N=i([]),{proxy:m}=ve(),Y=async u=>{await q(u),c.value=!0,f.value=u},R=async u=>{Z(u),F.value=!0,f.value=u},X=async(u,e)=>{B.value=e,_.value=!0,f.value=u},j=async()=>{K(f.value,B.value)},K=async(u,e)=>{const n={index:u,alias:e};await m.$api.esIndex.createAlias(n),_.value=!1},L=async()=>{P(f.value,B.value)},P=async(u,e)=>{const n={index:u,alias:e};await m.$api.esIndex.removeAlias(n),_.value=!1},W=async()=>{w.value=!0},Z=async u=>{const e={index:u};let n=await m.$api.esIndex.getIndex(e);b.value=JSON.stringify(n,null,2)},q=async u=>{const e={indexName:u};let n=await m.$api.esIndex.getMapping(e);y.value=JSON.stringify(n,null,2)};te(()=>{E(g.value)});const G=()=>{E(g.value)},E=async u=>{const e={keyword:u};let n=await m.$api.esIndex.getIndices(e);N.value=n},H=async u=>{U.confirm("\u4F60\u786E\u5B9A\u5220\u9664\u7D22\u5F15"+u+"\u5417? \u8C28\u614E\u64CD\u4F5C",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{Q(u),C.success()}).catch(()=>{})},Q=async u=>{const e={indexName:u};await m.$api.esIndex.deleteIndex(e),E(g.value)};return(u,e)=>{const n=ue,d=ne,p=se,$=oe,ee=ie,V=de,v=pe,le=re;return k(),A("div",Be,[o("div",ge,[a($,null,{default:t(()=>[a(d,{span:22},{default:t(()=>[a(n,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l),placeholder:"\u8BF7\u8F93\u5165\u7D22\u5F15\u540D\u79F0",style:{width:"300px"},onChange:G},null,8,["modelValue"])]),_:1}),a(d,{span:2,style:{transform:"translateX(10px)"}},{default:t(()=>[a(p,{type:"primary",onClick:e[1]||(e[1]=l=>W()),plain:""},{default:t(()=>e[16]||(e[16]=[r("\u65B0\u5EFA\u7D22\u5F15")])),_:1})]),_:1})]),_:1})]),a(ee,{height:"700px"},{default:t(()=>[(k(!0),A(me,null,xe(N.value,l=>(k(),A("div",{key:l.index,class:"scrollbar-demo-item"},[o("div",we,[o("span",Ee,x(l.index),1),e[17]||(e[17]=o("span",{class:"health-font"},"\u522B\u540D:",-1)),o("span",Ve,x(l.alias),1),e[18]||(e[18]=o("span",{class:"health-font"},"\u5065\u5EB7\u72B6\u6001:",-1)),o("span",{class:"health",style:_e({background:l.health})},null,4),o("span",Fe,x(l.health),1)]),o("span",he," size: "+x(l["store.size"]),1),o("span",be," docs: "+x(l["docs.count"])+" delete_docs: "+x(l["docs.deleted"]),1),o("span",De," shards: "+x(l.pri)+" replice: "+x(l.rep),1),o("div",Ie,[a(p,{type:"primary",onClick:D=>Y(l.index),plain:""},{default:t(()=>e[19]||(e[19]=[r("\u8BBE\u7F6E\u6620\u5C04")])),_:2},1032,["onClick"]),a(p,{type:"primary",onClick:D=>R(l.index),plain:""},{default:t(()=>e[20]||(e[20]=[r("\u67E5\u770B\u7D22\u5F15\u4FE1\u606F")])),_:2},1032,["onClick"]),a(p,{type:"primary",onClick:D=>X(l.index,l.alias),plain:""},{default:t(()=>e[21]||(e[21]=[r("\u8BBE\u7F6E\u522B\u540D")])),_:2},1032,["onClick"]),a(p,{type:"danger",onClick:D=>H(l.index),plain:""},{default:t(()=>e[22]||(e[22]=[r("\u5220\u9664")])),_:2},1032,["onClick"])])]))),128))]),_:1}),a(V,{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=l=>_.value=l),title:"\u8BBE\u7F6E\u522B\u540D",style:{width:"600px","max-width":"600px",position:"relative",height:"150px",transform:"translateX(50px)"}},{default:t(()=>[a(n,{modelValue:B.value,"onUpdate:modelValue":e[2]||(e[2]=l=>B.value=l)},null,8,["modelValue"]),a(p,{type:"primary",plain:"",onClick:j,style:{position:"absolute",right:"110px",bottom:"10px"}},{default:t(()=>e[23]||(e[23]=[r("\u8BBE\u7F6E\u522B\u540D ")])),_:1}),a(p,{type:"primary",plain:"",onClick:L,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:t(()=>e[24]||(e[24]=[r("\u5220\u9664\u522B\u540D ")])),_:1})]),_:1},8,["modelValue"]),a(V,{modelValue:w.value,"onUpdate:modelValue":e[11]||(e[11]=l=>w.value=l),title:"\u65B0\u5EFA\u7D22\u5F15",style:{width:"1200px","max-width":"1200px",position:"relative",height:"650px",transform:"translateY(-50px)"}},{default:t(()=>[a($,null,{default:t(()=>[a(d,{span:8},{default:t(()=>[a(le,{inline:!0,model:s,ref:"clientForm","label-width":"100px",style:{"max-width":"660px"},"label-position":"top"},{default:t(()=>[a(v,{label:"\u7D22\u5F15\u540D",prop:"indexName",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.indexName,"onUpdate:modelValue":e[4]||(e[4]=l=>s.indexName=l)},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{label:"\u522B\u540D",prop:"alias",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.alias,"onUpdate:modelValue":e[5]||(e[5]=l=>s.alias=l)},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{label:"\u5206\u7247\u6570",prop:"number_of_shards",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.number_of_shards,"onUpdate:modelValue":e[6]||(e[6]=l=>s.number_of_shards=l)},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{label:"\u526F\u672C\u6570",prop:"number_of_replicas",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.number_of_replicas,"onUpdate:modelValue":e[7]||(e[7]=l=>s.number_of_replicas=l)},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{label:"\u6700\u5927\u67E5\u8BE2\u6570",prop:"max_result_window",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.max_result_window,"onUpdate:modelValue":e[8]||(e[8]=l=>s.max_result_window=l)},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{label:"\u5237\u65B0\u95F4\u9694\u79D2\u6570",prop:"refresh_interval",style:{width:"100%"}},{default:t(()=>[a(d,{span:24},{default:t(()=>[a(n,{modelValue:s.refresh_interval,"onUpdate:modelValue":e[9]||(e[9]=l=>s.refresh_interval=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(d,{span:16},{default:t(()=>[o("div",null,[a(I,{value:h.value,"onUpdate:value":e[10]||(e[10]=l=>h.value=l),height:"450",styles:"width: 50%",title:"\u8BBE\u7F6E\u6620\u5C04"},null,8,["value"])])]),_:1})]),_:1}),a(p,{type:"primary",plain:"",onClick:S,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:t(()=>e[25]||(e[25]=[r(" \u786E\u8BA4\u65B0\u589E\u7D22\u5F15 ")])),_:1})]),_:1},8,["modelValue"]),a(V,{modelValue:fe(c),"onUpdate:modelValue":e[13]||(e[13]=l=>ce(c)?c.value=l:c=l),title:"\u8BBE\u7F6E\u6620\u5C04",style:{width:"1000px","max-width":"1000px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:t(()=>[o("div",null,[a(I,{value:y.value,"onUpdate:value":[e[12]||(e[12]=l=>y.value=l),J],height:"600",styles:"width: 50%",title:"\u65B0\u589E\u6620\u5C04\u7ED3\u6784"},null,8,["value"])]),a(p,{type:"primary",plain:"",onClick:T,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:t(()=>e[26]||(e[26]=[r(" \u4FDD\u5B58/\u4FEE\u6539\u6620\u5C04 ")])),_:1})]),_:1},8,["modelValue"]),a(V,{modelValue:F.value,"onUpdate:modelValue":e[15]||(e[15]=l=>F.value=l),title:"\u7D22\u5F15\u4FE1\u606F",style:{width:"900px","max-width":"1000px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:t(()=>[o("div",null,[a(I,{value:b.value,"onUpdate:value":e[14]||(e[14]=l=>b.value=l),height:"600",styles:"width: 100%",title:"\u7D22\u5F15\u4FE1\u606F"},null,8,["value"])])]),_:1},8,["modelValue"])])}}});const Oe=ye(Ce,[["__scopeId","data-v-e732b238"]]);export{Oe as default};
