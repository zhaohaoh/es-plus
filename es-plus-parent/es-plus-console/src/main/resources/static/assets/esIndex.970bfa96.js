/* empty css             *//* empty css              *//* empty css                  *//* empty css               */import{_ as V}from"./index.70cde9a5.js";import{Z as y,d as Y,r as u,S as j,o as K,T as L,b as P,M as W,c as X,$ as Z,W as q,e as h,h as E,N as n,g as a,w as l,n as m,F as G,i as H,u as Q,O as ee,P as M,j as te,a0 as i,K as se,_ as ne}from"./index.444831c1.js";import"./javascript.41a77aad.js";const F={success(){y({message:"\u64CD\u4F5C\u6210\u529F",type:"success"})},error(){y({message:"\u64CD\u4F5C\u5931\u8D25",type:"fail"})},error(B){y({message:B,type:"fail",center:!0,showClose:!0})}},ae={class:"container"},le={class:"searchInput"},oe={class:"index-item"},ue={style:{"font-size":"28px","font-weight":"bold"}},ie={class:"health-font"},de={class:"index-size"},pe={class:"index-size"},re={class:"index-size"},ce={class:"editClass"},xe=Y({__name:"esIndex",setup(B){const _=u(!1),p=u(""),f=u(""),b=async()=>{M.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{$(g.value,p.value),F.success()}).catch(()=>{})},$=async(s,e)=>{const o={indexName:s,mappings:e};await c.$api.esIndex.putMapping(o),d.value=!1,v("")},N=s=>{p.value=s},r=u("");j({id:null,unikey:"",name:"",address:"http://",username:"",password:"",schema:"http"});let d=u(!1),g=u("");const I=u([]),{proxy:c}=te(),w=async s=>{await T(s),d.value=!0,g.value=s},z=async s=>{S(s),_.value=!0,g.value=s},S=async s=>{const e={index:s};let o=await c.$api.esIndex.getIndex(e);f.value=JSON.stringify(o,null,2)},T=async s=>{const e={indexName:s};let o=await c.$api.esIndex.getMapping(e);p.value=JSON.stringify(o,null,2)};K(()=>{v(r.value)});const U=()=>{v(r.value)},v=async s=>{const e={keyword:s};let o=await c.$api.esIndex.getIndices(e);I.value=o},A=async s=>{M.confirm("\u4F60\u786E\u5B9A\u5220\u9664\u7D22\u5F15"+s+"\u5417? \u8C28\u614E\u64CD\u4F5C",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{O(s),F.success()}).catch(()=>{})},O=async s=>{const e={indexName:s};await c.$api.esIndex.deleteIndex(e),v(r.value),F.success()};return(s,e)=>{const o=L,C=P,x=W,J=X,R=Z,D=q;return h(),E("div",ae,[n("div",le,[a(J,null,{default:l(()=>[a(C,{span:22},{default:l(()=>[a(o,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"\u8BF7\u8F93\u5165\u7D22\u5F15\u540D\u79F0",style:{width:"300px"},onChange:U},null,8,["modelValue"])]),_:1}),a(C,{span:2,style:{transform:"translateX(10px)"}},{default:l(()=>[a(x,{type:"primary",onClick:e[1]||(e[1]=t=>w(s.item.index)),plain:""},{default:l(()=>e[6]||(e[6]=[m("\u65B0\u5EFA\u7D22\u5F15")])),_:1})]),_:1})]),_:1})]),a(R,{height:"700px"},{default:l(()=>[(h(!0),E(G,null,H(I.value,t=>(h(),E("div",{key:t.index,class:"scrollbar-demo-item"},[n("div",oe,[n("span",ue,i(t.index),1),e[7]||(e[7]=n("span",{class:"health-font"},"health:",-1)),n("span",{class:"health",style:se({background:t.health})},null,4),n("span",ie,i(t.health),1),e[8]||(e[8]=n("span",{class:"health-font"},"status:",-1)),e[9]||(e[9]=n("span",{class:"health-font"},"open",-1))]),n("span",de," size: "+i(t["store.size"]),1),n("span",pe," docs: "+i(t["docs.count"])+" delete_docs: "+i(t["docs.deleted"]),1),n("span",re," shards: "+i(t.pri)+" replice: "+i(t.rep),1),n("div",ce,[a(x,{type:"primary",onClick:k=>w(t.index),plain:""},{default:l(()=>e[10]||(e[10]=[m("\u8BBE\u7F6E\u6620\u5C04")])),_:2},1032,["onClick"]),a(x,{type:"primary",onClick:k=>z(t.index),plain:""},{default:l(()=>e[11]||(e[11]=[m("\u67E5\u770B\u7D22\u5F15\u4FE1\u606F")])),_:2},1032,["onClick"]),a(x,{type:"danger",onClick:k=>A(t.index),plain:""},{default:l(()=>e[12]||(e[12]=[m("\u5220\u9664")])),_:2},1032,["onClick"])])]))),128))]),_:1}),a(D,{modelValue:Q(d),"onUpdate:modelValue":e[3]||(e[3]=t=>ee(d)?d.value=t:d=t),title:"\u8BBE\u7F6E\u6620\u5C04",style:{width:"900px","max-width":"1000px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:l(()=>[n("div",null,[a(V,{value:p.value,"onUpdate:value":[e[2]||(e[2]=t=>p.value=t),N],height:"600",styles:"width: 100%",title:"\u65B0\u589E\u6620\u5C04\u7ED3\u6784"},null,8,["value"])]),a(x,{type:"success",onClick:b,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:l(()=>e[13]||(e[13]=[m(" \u4FDD\u5B58/\u4FEE\u6539\u6620\u5C04 ")])),_:1})]),_:1},8,["modelValue"]),a(D,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=t=>_.value=t),title:"\u7D22\u5F15\u4FE1\u606F",style:{width:"900px","max-width":"1000px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:l(()=>[n("div",null,[a(V,{value:f.value,"onUpdate:value":e[4]||(e[4]=t=>f.value=t),height:"600",styles:"width: 100%",title:"\u7D22\u5F15\u4FE1\u606F"},null,8,["value"])])]),_:1},8,["modelValue"])])}}});const Ee=ne(xe,[["__scopeId","data-v-7ee05a74"]]);export{Ee as default};
