/* empty css             *//* empty css              *//* empty css                  *//* empty css               */import{_ as T}from"./index.0430f84b.js";import{Z as g,d as A,r,S as U,o as O,T as R,b as j,M as J,c as K,$ as L,W as P,e as v,h as y,N as n,g as a,w as l,n as x,F as W,i as X,u as Y,O as Z,P as D,j as q,a0 as u,K as G,_ as H}from"./index.83d6a329.js";import"./javascript.573cbb77.js";const Q={success(){g({message:"\u64CD\u4F5C\u6210\u529F",type:"success"})},error(){g({message:"\u64CD\u4F5C\u5931\u8D25",type:"fail"})},error(h){g({message:h,type:"fail",center:!0,showClose:!0})}},ee={class:"container"},se={class:"searchInput"},te={class:"index-item"},ne={style:{"font-size":"28px","font-weight":"bold"}},ae={class:"health-font"},le={class:"index-size"},oe={class:"index-size"},ue={class:"index-size"},ie={class:"editClass"},de=A({__name:"esIndex",setup(h){const d=r(""),F=async()=>{D.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{w(f.value,d.value),Q.success()}).catch(()=>{})},w=async(t,e)=>{const o={indexName:t,mappings:e};await c.$api.esIndex.putMapping(o),i.value=!1,_("")},I=t=>{d.value=t},p=r("");U({id:null,unikey:"",name:"",address:"http://",username:"",password:"",schema:"http"});let i=r(!1),f=r("");const E=r([]),{proxy:c}=q(),B=async t=>{await k(t),i.value=!0,f.value=t,console.log("\u5F53\u524D\u7D22\u5F15"+f.value)},k=async t=>{const e={indexName:t};let o=await c.$api.esIndex.getMapping(e);d.value=JSON.stringify(o,null,2)};O(()=>{_(p.value)});const b=()=>{_(p.value)},_=async t=>{const e={keyword:t};let o=await c.$api.esIndex.getIndices(e);E.value=o},M=async t=>{D.confirm("\u4F60\u786E\u5B9A\u5220\u9664\u7D22\u5F15"+t+"\u5417? \u8C28\u614E\u64CD\u4F5C",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{V(t)}).catch(()=>{})},V=async t=>{const e={indexName:t};await c.$api.esIndex.deleteIndex(e),_(p.value)};return(t,e)=>{const o=R,C=j,m=J,z=K,N=L,$=P;return v(),y("div",ee,[n("div",se,[a(z,null,{default:l(()=>[a(C,{span:22},{default:l(()=>[a(o,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),placeholder:"\u8BF7\u8F93\u5165\u7D22\u5F15\u540D\u79F0",style:{width:"300px"},onChange:b},null,8,["modelValue"])]),_:1}),a(C,{span:2,style:{transform:"translateX(10px)"}},{default:l(()=>[a(m,{type:"primary",onClick:e[1]||(e[1]=s=>B(t.item.index)),plain:""},{default:l(()=>e[4]||(e[4]=[x("\u65B0\u5EFA\u7D22\u5F15")])),_:1})]),_:1})]),_:1})]),a(N,{height:"700px"},{default:l(()=>[(v(!0),y(W,null,X(E.value,s=>(v(),y("div",{key:s.index,class:"scrollbar-demo-item"},[n("div",te,[n("span",ne,u(s.index),1),e[5]||(e[5]=n("span",{class:"health-font"},"health:",-1)),n("span",{class:"health",style:G({background:s.health})},null,4),n("span",ae,u(s.health),1),e[6]||(e[6]=n("span",{class:"health-font"},"status:",-1)),e[7]||(e[7]=n("span",{class:"health-font"},"open",-1))]),n("span",le," size: "+u(s["store.size"]),1),n("span",oe," docs: "+u(s["docs.count"])+" delete_docs: "+u(s["docs.deleted"]),1),n("span",ue," shards: "+u(s.pri)+" replice: "+u(s.rep),1),n("div",ie,[a(m,{type:"primary",onClick:S=>B(s.index),plain:""},{default:l(()=>e[8]||(e[8]=[x("\u8BBE\u7F6E\u6620\u5C04")])),_:2},1032,["onClick"]),a(m,{type:"danger",onClick:S=>M(s.index),plain:""},{default:l(()=>e[9]||(e[9]=[x("\u5220\u9664")])),_:2},1032,["onClick"])])]))),128))]),_:1}),a($,{modelValue:Y(i),"onUpdate:modelValue":e[3]||(e[3]=s=>Z(i)?i.value=s:i=s),title:"\u8BBE\u7F6E\u6620\u5C04",style:{"max-width":"700px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:l(()=>[n("div",null,[a(T,{value:d.value,"onUpdate:value":[e[2]||(e[2]=s=>d.value=s),I],height:"600",styles:"width: 100%",title:"\u65B0\u589E\u6620\u5C04\u7ED3\u6784"},null,8,["value"])]),a(m,{type:"success",onClick:F,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:l(()=>e[10]||(e[10]=[x(" \u4FDD\u5B58/\u4FEE\u6539\u6620\u5C04 ")])),_:1})]),_:1},8,["modelValue"])])}}});const ge=H(de,[["__scopeId","data-v-41cbefed"]]);export{ge as default};
