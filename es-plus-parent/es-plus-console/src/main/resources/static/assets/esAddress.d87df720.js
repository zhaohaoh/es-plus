/* empty css               *//* empty css               *//* empty css                  *//* empty css                *//* empty css                     */import{o as w}from"./global.9ea54a79.js";import{d as R,r as C,a2 as S,o as O,M as P,c as H,b as Q,P as q,a3 as z,a4 as G,O as J,e as E,h as V,Q as D,g as l,w as t,F as g,i as K,n as _,u as n,R as W,j as X,S as v,V as Y,a5 as Z,a6 as ee,_ as le}from"./index.78e97f46.js";const te={class:"container"},ae={class:"dialog-footer"},se=R({__name:"esAddress",setup(oe){C("right");let s=S({id:null,unikey:"",name:"",address:"http://",username:"",password:"",schema:"http"});const b=C([]),{proxy:u}=X(),x=[{prop:"id",label:"id"},{prop:"unikey",label:"\u552F\u4E00\u82F1\u6587\u6807\u8BC6"},{prop:"name",label:"\u540D\u79F0"},{prop:"address",label:"\u96C6\u7FA4\u5730\u5740"},{prop:"username",label:"\u7528\u6237\u540D\u79F0"},{prop:"password",label:"\u5BC6\u7801"},{prop:"schema",label:"\u6A21\u5F0F"}];let d=C(!1);const k=async()=>{u.$refs.clientForm.validate(async o=>{d.value=!1,console.log(s),T(s),u.$refs.clientForm.resetFields()})},B=()=>{d.value=!0},A=async(o,e)=>{I(e.id),d.value=!0},$=async()=>{await u.$api.esClient.testClient(s)===!0?v.success("\u8FDE\u63A5\u6210\u529F"):v.error("\u8FDE\u63A5\u5931\u8D25:"+s.address)},U=async(o,e)=>{console.log(e.id),Y.confirm("\u4F60\u786E\u5B9A\u5220\u9664\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{h(e.id)}).catch(()=>{})};O(()=>{f()});const f=async()=>{let o=await u.$api.esClient.esClientList();o&&o.length>0&&(w.value.length=0,o.forEach((e,i)=>{w.value[i]=e}),b.value=o)},T=async o=>{await u.$api.esClient.esClientSave(o),f()},h=async o=>{const e={id:o};await u.$api.esClient.esClientDelete(e),f()},I=async o=>{const e={id:o};let i=await u.$api.esClient.get(e);Object.assign(s,i)},F=()=>{d.value=!1,u.$refs.clientForm.resetFields()};return(o,e)=>{const i=Z,p=P,M=ee,y=H,r=Q,m=q,c=z,j=G,L=J;return E(),V(g,null,[D("div",te,[l(y,{gutter:10},{default:t(()=>[l(M,{data:b.value,style:{width:"100%"}},{default:t(()=>[(E(),V(g,null,K(x,a=>l(i,{key:a.prop,label:a.label,prop:a.prop},null,8,["label","prop"])),64)),l(i,{prop:"address",label:"\u64CD\u4F5C",width:"180"},{default:t(a=>[l(p,{type:"success",plain:"",onClick:N=>A(a.$index,a.row)},{default:t(()=>e[7]||(e[7]=[_("\u7F16\u8F91")])),_:2},1032,["onClick"]),l(p,{type:"danger",onClick:N=>U(a.$index,a.row),plain:""},{default:t(()=>e[8]||(e[8]=[_("\u5220\u9664")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),l(y,{class:"row-bg",justify:"end"},{default:t(()=>[l(r,{span:1},{default:t(()=>[l(p,{type:"success",plain:"",onClick:B},{default:t(()=>e[9]||(e[9]=[_("\u65B0\u589E")])),_:1})]),_:1})]),_:1})]),l(L,{modelValue:n(d),"onUpdate:modelValue":e[6]||(e[6]=a=>W(d)?d.value=a:d=a),title:"\u4FDD\u5B58\u94FE\u63A5","before-close":F,style:{"max-width":"660px"}},{footer:t(()=>[D("span",ae,[l(p,{onClick:$},{default:t(()=>e[10]||(e[10]=[_("\u6D4B\u8BD5")])),_:1}),l(p,{onClick:F},{default:t(()=>e[11]||(e[11]=[_("\u53D6\u6D88")])),_:1}),l(p,{type:"primary",onClick:k},{default:t(()=>e[12]||(e[12]=[_(" \u4FDD\u5B58 ")])),_:1})])]),default:t(()=>[l(j,{inline:!0,model:n(s),ref:"clientForm","label-width":"100px",style:{"max-width":"660px"},"label-position":"top"},{default:t(()=>[l(c,{label:"\u552F\u4E00\u82F1\u6587\u6807\u8BC6",prop:"name",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).unikey,"onUpdate:modelValue":e[0]||(e[0]=a=>n(s).unikey=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(c,{label:"\u8FDE\u63A5\u4E2D\u6587\u540D",prop:"name",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).name,"onUpdate:modelValue":e[1]||(e[1]=a=>n(s).name=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(c,{label:"\u94FE\u63A5\u5730\u5740",prop:"address",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).address,"onUpdate:modelValue":e[2]||(e[2]=a=>n(s).address=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(c,{label:"\u534F\u8BAE",prop:"schema",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).schema,"onUpdate:modelValue":e[3]||(e[3]=a=>n(s).schema=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(c,{label:"Username",prop:"username",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).username,"onUpdate:modelValue":e[4]||(e[4]=a=>n(s).username=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(c,{label:"Password",prop:"password",style:{width:"100%"}},{default:t(()=>[l(r,{span:24},{default:t(()=>[l(m,{modelValue:n(s).password,"onUpdate:modelValue":e[5]||(e[5]=a=>n(s).password=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});const ce=le(se,[["__scopeId","data-v-08e1b64a"]]);export{ce as default};
