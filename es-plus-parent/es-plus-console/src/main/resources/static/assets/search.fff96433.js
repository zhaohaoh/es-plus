/* empty css             *//* empty css               */import{r as ie}from"./javascript.df212a12.js";import{d as se,r as Z,o as me,A as ne,B as Se,u as J,C as nt,D as De,G as rt,e as re,h as fe,f as it,H as at,I as lt,J as ot,K as st,j as ze,L as ft,M as ut,N as Y,g as te,w as de,n as ve,O as gt,P as je,Q as He,_ as ht}from"./index.ba988482.js";var ct={exports:{}};(function(O,_){(function(b){b(ie())})(function(b){function T(r,i,l,a){if(l&&l.call){var f=l;l=null}else var f=n(r,l,"rangeFinder");typeof i=="number"&&(i=b.Pos(i,0));var s=n(r,l,"minFoldSize");function g(w){var E=f(r,i);if(!E||E.to.line-E.from.line<s)return null;if(a==="fold")return E;for(var k=r.findMarksAt(E.from),S=0;S<k.length;++S)if(k[S].__isFold){if(!w)return null;E.cleared=!0,k[S].clear()}return E}var h=g(!0);if(n(r,l,"scanUp"))for(;!h&&i.line>r.firstLine();)i=b.Pos(i.line-1,0),h=g(!1);if(!(!h||h.cleared||a==="unfold")){var p=y(r,l,h);b.on(p,"mousedown",function(w){c.clear(),b.e_preventDefault(w)});var c=r.markText(h.from,h.to,{replacedWith:p,clearOnEnter:n(r,l,"clearOnEnter"),__isFold:!0});c.on("clear",function(w,E){b.signal(r,"unfold",r,w,E)}),b.signal(r,"fold",r,h.from,h.to)}}function y(r,i,l){var a=n(r,i,"widget");if(typeof a=="function"&&(a=a(l.from,l.to)),typeof a=="string"){var f=document.createTextNode(a);a=document.createElement("span"),a.appendChild(f),a.className="CodeMirror-foldmarker"}else a&&(a=a.cloneNode(!0));return a}b.newFoldFunction=function(r,i){return function(l,a){T(l,a,{rangeFinder:r,widget:i})}},b.defineExtension("foldCode",function(r,i,l){T(this,r,i,l)}),b.defineExtension("isFolded",function(r){for(var i=this.findMarksAt(r),l=0;l<i.length;++l)if(i[l].__isFold)return!0}),b.commands.toggleFold=function(r){r.foldCode(r.getCursor())},b.commands.fold=function(r){r.foldCode(r.getCursor(),null,"fold")},b.commands.unfold=function(r){r.foldCode(r.getCursor(),{scanUp:!1},"unfold")},b.commands.foldAll=function(r){r.operation(function(){for(var i=r.firstLine(),l=r.lastLine();i<=l;i++)r.foldCode(b.Pos(i,0),{scanUp:!1},"fold")})},b.commands.unfoldAll=function(r){r.operation(function(){for(var i=r.firstLine(),l=r.lastLine();i<=l;i++)r.foldCode(b.Pos(i,0),{scanUp:!1},"unfold")})},b.registerHelper("fold","combine",function(){var r=Array.prototype.slice.call(arguments,0);return function(i,l){for(var a=0;a<r.length;++a){var f=r[a](i,l);if(f)return f}}}),b.registerHelper("fold","auto",function(r,i){for(var l=r.getHelpers(i,"fold"),a=0;a<l.length;a++){var f=l[a](r,i);if(f)return f}});var t={rangeFinder:b.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};b.defineOption("foldOptions",null);function n(r,i,l){if(i&&i[l]!==void 0)return i[l];var a=r.options.foldOptions;return a&&a[l]!==void 0?a[l]:t[l]}b.defineExtension("foldOption",function(r,i){return n(this,r,i)})})})();(function(O,_){(function(b){b(ie(),ct.exports)})(function(b){b.defineOption("foldGutter",!1,function(c,w,E){E&&E!=b.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",f),c.off("changes",g),c.off("viewportChange",h),c.off("fold",p),c.off("unfold",p),c.off("swapDoc",g),c.off("optionChange",s)),w&&(c.state.foldGutter=new y(t(w)),a(c),c.on("gutterClick",f),c.on("changes",g),c.on("viewportChange",h),c.on("fold",p),c.on("unfold",p),c.on("swapDoc",g),c.on("optionChange",s))});var T=b.Pos;function y(c){this.options=c,this.from=this.to=0}function t(c){return c===!0&&(c={}),c.gutter==null&&(c.gutter="CodeMirror-foldgutter"),c.indicatorOpen==null&&(c.indicatorOpen="CodeMirror-foldgutter-open"),c.indicatorFolded==null&&(c.indicatorFolded="CodeMirror-foldgutter-folded"),c}function n(c,w){for(var E=c.findMarks(T(w,0),T(w+1,0)),k=0;k<E.length;++k)if(E[k].__isFold){var S=E[k].find(-1);if(S&&S.line===w)return E[k]}}function r(c){if(typeof c=="string"){var w=document.createElement("div");return w.className=c+" CodeMirror-guttermarker-subtle",w}else return c.cloneNode(!0)}function i(c,w,E){var k=c.state.foldGutter.options,S=w-1,F=c.foldOption(k,"minFoldSize"),M=c.foldOption(k,"rangeFinder"),I=typeof k.indicatorFolded=="string"&&l(k.indicatorFolded),B=typeof k.indicatorOpen=="string"&&l(k.indicatorOpen);c.eachLine(w,E,function(R){++S;var j=null,L=R.gutterMarkers;if(L&&(L=L[k.gutter]),n(c,S)){if(I&&L&&I.test(L.className))return;j=r(k.indicatorFolded)}else{var N=T(S,0),V=M&&M(c,N);if(V&&V.to.line-V.from.line>=F){if(B&&L&&B.test(L.className))return;j=r(k.indicatorOpen)}}!j&&!L||c.setGutterMarker(R,k.gutter,j)})}function l(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}function a(c){var w=c.getViewport(),E=c.state.foldGutter;!E||(c.operation(function(){i(c,w.from,w.to)}),E.from=w.from,E.to=w.to)}function f(c,w,E){var k=c.state.foldGutter;if(!!k){var S=k.options;if(E==S.gutter){var F=n(c,w);F?F.clear():c.foldCode(T(w,0),S)}}}function s(c,w){w=="mode"&&g(c)}function g(c){var w=c.state.foldGutter;if(!!w){var E=w.options;w.from=w.to=0,clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){a(c)},E.foldOnChangeTimeSpan||600)}}function h(c){var w=c.state.foldGutter;if(!!w){var E=w.options;clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){var k=c.getViewport();w.from==w.to||k.from-w.to>20||w.from-k.to>20?a(c):c.operation(function(){k.from<w.from&&(i(c,k.from,w.from),w.from=k.from),k.to>w.to&&(i(c,w.to,k.to),w.to=k.to)})},E.updateViewportTimeSpan||400)}}function p(c,w){var E=c.state.foldGutter;if(!!E){var k=w.line;k>=E.from&&k<E.to&&i(c,k,k+1)}}})})();(function(O,_){(function(b){b(ie())})(function(b){function T(y){return function(t,n){var r=n.line,i=t.getLine(r);function l(p){for(var c,w=n.ch,E=0;;){var k=w<=0?-1:i.lastIndexOf(p[0],w-1);if(k==-1){if(E==1)break;E=1,w=i.length;continue}if(E==1&&k<n.ch)break;if(c=t.getTokenTypeAt(b.Pos(r,k+1)),!/^(comment|string)/.test(c))return{ch:k+1,tokenType:c,pair:p};w=k-1}}function a(p){var c=1,w=t.lastLine(),E,k=p.ch,S;e:for(var F=r;F<=w;++F)for(var M=t.getLine(F),I=F==r?k:0;;){var B=M.indexOf(p.pair[0],I),R=M.indexOf(p.pair[1],I);if(B<0&&(B=M.length),R<0&&(R=M.length),I=Math.min(B,R),I==M.length)break;if(t.getTokenTypeAt(b.Pos(F,I+1))==p.tokenType){if(I==B)++c;else if(!--c){E=F,S=I;break e}}++I}return E==null||r==E?null:{from:b.Pos(r,k),to:b.Pos(E,S)}}for(var f=[],s=0;s<y.length;s++){var g=l(y[s]);g&&f.push(g)}f.sort(function(p,c){return p.ch-c.ch});for(var s=0;s<f.length;s++){var h=a(f[s]);if(h)return h}return null}}b.registerHelper("fold","brace",T([["{","}"],["[","]"]])),b.registerHelper("fold","brace-paren",T([["{","}"],["[","]"],["(",")"]])),b.registerHelper("fold","import",function(y,t){function n(s){if(s<y.firstLine()||s>y.lastLine())return null;var g=y.getTokenAt(b.Pos(s,1));if(/\S/.test(g.string)||(g=y.getTokenAt(b.Pos(s,g.end+1))),g.type!="keyword"||g.string!="import")return null;for(var h=s,p=Math.min(y.lastLine(),s+10);h<=p;++h){var c=y.getLine(h),w=c.indexOf(";");if(w!=-1)return{startCh:g.end,end:b.Pos(h,w)}}}var r=t.line,i=n(r),l;if(!i||n(r-1)||(l=n(r-2))&&l.end.line==r-1)return null;for(var a=i.end;;){var f=n(a.line+1);if(f==null)break;a=f.end}return{from:y.clipPos(b.Pos(r,i.startCh+1)),to:a}}),b.registerHelper("fold","include",function(y,t){function n(f){if(f<y.firstLine()||f>y.lastLine())return null;var s=y.getTokenAt(b.Pos(f,1));if(/\S/.test(s.string)||(s=y.getTokenAt(b.Pos(f,s.end+1))),s.type=="meta"&&s.string.slice(0,8)=="#include")return s.start+8}var r=t.line,i=n(r);if(i==null||n(r-1)!=null)return null;for(var l=r;;){var a=n(l+1);if(a==null)break;++l}return{from:b.Pos(r,i+1),to:y.clipPos(b.Pos(l))}})})})();var $e=ie();(function(O,_){(function(b){b(ie())})(function(b){var T=b.Pos,y="http://www.w3.org/2000/svg";function t(e,o){this.mv=e,this.type=o,this.classes=o=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}t.prototype={constructor:t,init:function(e,o,u){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=b(e,be({value:o,readOnly:!this.mv.options.allowEditingOriginals},be(u))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new _e(this.edit)),this.orig.state.trackAlignable=new _e(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var d=u.chunkClassLocation||"background";Object.prototype.toString.call(d)!="[object Array]"&&(d=[d]),this.classes.classLocation=d,this.diff=Te($(o),$(u.value),this.mv.options.ignoreWhitespace),this.chunks=Ce(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=u.showDifferences!==!1},registerEvents:function(e){this.forceUpdate=i(this),s(this,!0,!1),l(this,e)},setShowDifferences:function(e){e=e!==!1,e!=this.showDifferences&&(this.showDifferences=e,this.forceUpdate("full"))}};function n(e){e.diffOutOfDate&&(e.diff=Te(e.orig.getValue(),e.edit.getValue(),e.mv.options.ignoreWhitespace),e.chunks=Ce(e.diff),e.diffOutOfDate=!1,b.signal(e.edit,"updateDiff",e.diff))}var r=!1;function i(e){var o={from:0,to:0,marked:[]},u={from:0,to:0,marked:[]},d,v=!1;function m(U){r=!0,v=!1,U=="full"&&(e.svg&&ge(e.svg),e.copyButtons&&ge(e.copyButtons),h(e.edit,o.marked,e.classes),h(e.orig,u.marked,e.classes),o.from=o.to=u.from=u.to=0),n(e),e.showDifferences&&(p(e.edit,e.diff,o,DIFF_INSERT,e.classes),p(e.orig,e.diff,u,DIFF_DELETE,e.classes)),e.mv.options.connect=="align"&&I(e),E(e),e.needsScrollSync!=null&&a(e,e.needsScrollSync),r=!1}function D(U){r||(e.dealigned=!0,C(U))}function C(U){r||v||(clearTimeout(d),U===!0&&(v=!0),d=setTimeout(m,U===!0?20:250))}function A(U,H){e.diffOutOfDate||(e.diffOutOfDate=!0,o.from=o.to=u.from=u.to=0),D(H.text.length-1!=H.to.line-H.from.line)}function P(){e.diffOutOfDate=!0,e.dealigned=!0,m("full")}return e.edit.on("change",A),e.orig.on("change",A),e.edit.on("swapDoc",P),e.orig.on("swapDoc",P),e.mv.options.connect=="align"&&(b.on(e.edit.state.trackAlignable,"realign",D),b.on(e.orig.state.trackAlignable,"realign",D)),e.edit.on("viewportChange",function(){C(!1)}),e.orig.on("viewportChange",function(){C(!1)}),m(),m}function l(e,o){e.edit.on("scroll",function(){a(e,!0)&&E(e)}),e.orig.on("scroll",function(){a(e,!1)&&E(e),o&&a(o,!0)&&E(o)})}function a(e,o){if(e.diffOutOfDate)return e.lockScroll&&e.needsScrollSync==null&&(e.needsScrollSync=o),!1;if(e.needsScrollSync=null,!e.lockScroll)return!0;var u,d,v=+new Date;if(o?(u=e.edit,d=e.orig):(u=e.orig,d=e.edit),u.state.scrollSetBy==e&&(u.state.scrollSetAt||0)+250>v)return!1;var m=u.getScrollInfo();if(e.mv.options.connect=="align")W=m.top;else{var D=.5*m.clientHeight,C=m.top+D,A=u.lineAtHeight(C,"local"),P=Je(e.chunks,A,o),U=f(u,o?P.edit:P.orig),H=f(d,o?P.orig:P.edit),z=(C-U.top)/(U.bot-U.top),W=H.top-D+z*(H.bot-H.top),Q,K;if(W>m.top&&(K=m.top/D)<1)W=W*K+m.top*(1-K);else if((Q=m.height-m.clientHeight-m.top)<D){var X=d.getScrollInfo(),G=X.height-X.clientHeight-W;G>Q&&(K=Q/D)<1&&(W=W*K+(X.height-X.clientHeight-Q)*(1-K))}}return d.scrollTo(m.left,W),d.state.scrollSetAt=v,d.state.scrollSetBy=e,!0}function f(e,o){var u=o.after;return u==null&&(u=e.lastLine()+1),{top:e.heightAtLine(o.before||0,"local"),bot:e.heightAtLine(u,"local")}}function s(e,o,u){e.lockScroll=o,o&&u!=!1&&a(e,DIFF_INSERT)&&E(e),(o?b.addClass:b.rmClass)(e.lockButton,"CodeMirror-merge-scrolllock-enabled")}function g(e,o,u){for(var d=u.classLocation,v=0;v<d.length;v++)e.removeLineClass(o,d[v],u.chunk),e.removeLineClass(o,d[v],u.start),e.removeLineClass(o,d[v],u.end)}function h(e,o,u){for(var d=0;d<o.length;++d){var v=o[d];v instanceof b.TextMarker?v.clear():v.parent&&g(e,v,u)}o.length=0}function p(e,o,u,d,v){var m=e.getViewport();e.operation(function(){u.from==u.to||m.from-u.to>20||u.from-m.to>20?(h(e,u.marked,v),w(e,o,d,u.marked,m.from,m.to,v),u.from=m.from,u.to=m.to):(m.from<u.from&&(w(e,o,d,u.marked,m.from,u.from,v),u.from=m.from),m.to>u.to&&(w(e,o,d,u.marked,u.to,m.to,v),u.to=m.to))})}function c(e,o,u,d,v,m){for(var D=u.classLocation,C=e.getLineHandle(o),A=0;A<D.length;A++)d&&e.addLineClass(C,D[A],u.chunk),v&&e.addLineClass(C,D[A],u.start),m&&e.addLineClass(C,D[A],u.end);return C}function w(e,o,u,d,v,m,D){var C=T(0,0),A=T(v,0),P=e.clipPos(T(m-1)),U=u==DIFF_DELETE?D.del:D.insert;function H(we,ae){for(var le=Math.max(v,we),Ve=Math.min(m,ae),oe=le;oe<Ve;++oe)d.push(c(e,oe,D,!0,oe==we,oe==ae-1));we==ae&&le==ae&&Ve==ae&&(le?d.push(c(e,le-1,D,!1,!1,!0)):d.push(c(e,le,D,!1,!0,!1)))}for(var z=0,W=!1,Q=0;Q<o.length;++Q){var K=o[Q],X=K[0],G=K[1];if(X==DIFF_EQUAL){var Le=C.line+(Fe(o,Q)?0:1);he(C,G);var Pe=C.line+(Ae(o,Q)?1:0);Pe>Le&&(W&&(H(z,Le),W=!1),z=Pe)}else if(W=!0,X==u){var Ne=he(C,G,!0),Re=Ye(A,C),Ue=Xe(P,Ne);xe(Re,Ue)||d.push(e.markText(Re,Ue,{className:U})),C=Ne}}W&&H(z,C.line+1)}function E(e){if(!!e.showDifferences){if(e.svg){ge(e.svg);var o=e.gap.offsetWidth;Oe(e.svg,"width",o,"height",e.gap.offsetHeight)}e.copyButtons&&ge(e.copyButtons);for(var u=e.edit.getViewport(),d=e.orig.getViewport(),v=e.mv.wrap.getBoundingClientRect().top,m=v-e.edit.getScrollerElement().getBoundingClientRect().top+e.edit.getScrollInfo().top,D=v-e.orig.getScrollerElement().getBoundingClientRect().top+e.orig.getScrollInfo().top,C=0;C<e.chunks.length;C++){var A=e.chunks[C];A.editFrom<=u.to&&A.editTo>=u.from&&A.origFrom<=d.to&&A.origTo>=d.from&&j(e,A,D,m,o)}}}function k(e,o){for(var u=0,d=0,v=0;v<o.length;v++){var m=o[v];if(m.editTo>e&&m.editFrom<=e)return null;if(m.editFrom>e)break;u=m.editTo,d=m.origTo}return d+(e-u)}function S(e,o,u){for(var d=e.state.trackAlignable,v=e.firstLine(),m=0,D=[],C=0;;C++){for(var A=o[C],P=A?u?A.origFrom:A.editFrom:1e9;m<d.alignable.length;m+=2){var U=d.alignable[m]+1;if(!(U<=v))if(U<=P)D.push(U);else break}if(!A)break;D.push(v=u?A.origTo:A.editTo)}return D}function F(e,o,u,d){var v=0,m=0,D=0,C=0;e:for(;;v++){var A=e[v],P=o[m];if(!A&&P==null)break;for(var U=A?A[0]:1e9,H=P==null?1e9:P;D<u.length;){var z=u[D];if(z.origFrom<=H&&z.origTo>H){m++,v--;continue e}if(z.editTo>U){if(z.editFrom<=U)continue e;break}C+=z.origTo-z.origFrom-(z.editTo-z.editFrom),D++}if(U==H-C)A[d]=H,m++;else if(U<H-C)A[d]=U+C;else{var W=[H-C,null,null];W[d]=H,e.splice(v,0,W),m++}}}function M(e,o){var u=S(e.edit,e.chunks,!1),d=[];if(o)for(var v=0,m=0;v<o.chunks.length;v++){for(var D=o.chunks[v].editTo;m<u.length&&u[m]<D;)m++;(m==u.length||u[m]!=D)&&u.splice(m++,0,D)}for(var v=0;v<u.length;v++)d.push([u[v],null,null]);return F(d,S(e.orig,e.chunks,!0),e.chunks,1),o&&F(d,S(o.orig,o.chunks,!0),o.chunks,2),d}function I(e,o){if(!(!e.dealigned&&!o)){if(!e.orig.curOp)return e.orig.operation(function(){I(e,o)});e.dealigned=!1;var u=e.mv.left==e?e.mv.right:e.mv.left;u&&(n(u),u.dealigned=!1);for(var d=M(e,u),v=e.mv.aligners,m=0;m<v.length;m++)v[m].clear();v.length=0;var D=[e.edit,e.orig],C=[],A=[];u&&D.push(u.orig);for(var m=0;m<D.length;m++)C.push(D[m].getScrollInfo().top),A.push(-D[m].getScrollerElement().getBoundingClientRect().top);(A[0]!=A[1]||D.length==3&&A[1]!=A[2])&&B(D,A,[0,0,0],v);for(var P=0;P<d.length;P++)B(D,A,d[P],v);for(var m=0;m<D.length;m++)D[m].scrollTo(null,C[m])}}function B(e,o,u,d){for(var v=-1e8,m=[],D=0;D<e.length;D++)if(u[D]!=null){var C=e[D].heightAtLine(u[D],"local")-o[D];m[D]=C,v=Math.max(v,C)}for(var D=0;D<e.length;D++)if(u[D]!=null){var A=v-m[D];A>1&&d.push(R(e[D],u[D],A))}}function R(e,o,u){var d=!0;o>e.lastLine()&&(o--,d=!1);var v=document.createElement("div");return v.className="CodeMirror-merge-spacer",v.style.height=u+"px",v.style.minWidth="1px",e.addLineWidget(o,v,{height:u,above:d,mergeSpacer:!0,handleMouseEvents:!0})}function j(e,o,u,d,v){var m=e.type=="left",D=e.orig.heightAtLine(o.origFrom,"local",!0)-u;if(e.svg){var C=D,A=e.edit.heightAtLine(o.editFrom,"local",!0)-d;if(m){var P=C;C=A,A=P}var U=e.orig.heightAtLine(o.origTo,"local",!0)-u,H=e.edit.heightAtLine(o.editTo,"local",!0)-d;if(m){var P=U;U=H,H=P}var z=" C "+v/2+" "+A+" "+v/2+" "+C+" "+(v+2)+" "+C,W=" C "+v/2+" "+U+" "+v/2+" "+H+" -1 "+H;Oe(e.svg.appendChild(document.createElementNS(y,"path")),"d","M -1 "+A+z+" L "+(v+2)+" "+U+W+" z","class",e.classes.connect)}if(e.copyButtons){var Q=e.copyButtons.appendChild(q("div",e.type=="left"?"\u21DD":"\u21DC","CodeMirror-merge-copy")),K=e.mv.options.allowEditingOriginals;if(Q.title=e.edit.phrase(K?"Push to left":"Revert chunk"),Q.chunk=o,Q.style.top=(o.origTo>o.origFrom?D:e.edit.heightAtLine(o.editFrom,"local")-d)+"px",Q.setAttribute("role","button"),Q.setAttribute("tabindex","0"),Q.setAttribute("aria-label",Q.title),K){var X=e.edit.heightAtLine(o.editFrom,"local")-d,G=e.copyButtons.appendChild(q("div",e.type=="right"?"\u21DD":"\u21DC","CodeMirror-merge-copy-reverse"));G.title="Push to right",G.chunk={editFrom:o.origFrom,editTo:o.origTo,origFrom:o.editFrom,origTo:o.editTo},G.style.top=X+"px",e.type=="right"?G.style.left="2px":G.style.right="2px",G.setAttribute("role","button"),G.setAttribute("tabindex","0"),G.setAttribute("aria-label",G.title)}}}function L(e,o,u,d){if(!e.diffOutOfDate){var v=d.origTo>u.lastLine()?T(d.origFrom-1):T(d.origFrom,0),m=T(d.origTo,0),D=d.editTo>o.lastLine()?T(d.editFrom-1):T(d.editFrom,0),C=T(d.editTo,0),A=e.mv.options.revertChunk;A?A(e.mv,u,v,m,o,D,C):o.replaceRange(u.getRange(v,m),D,C)}}var N=b.MergeView=function(e,o){if(!(this instanceof N))return new N(e,o);this.options=o;var u=o.origLeft,d=o.origRight==null?o.orig:o.origRight,v=u!=null,m=d!=null,D=1+(v?1:0)+(m?1:0),C=[],A=this.left=null,P=this.right=null,U=this;if(v){A=this.left=new t(this,"left");var H=q("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");C.push(H),C.push(V(A))}var z=q("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(C.push(z),m){P=this.right=new t(this,"right"),C.push(V(P));var W=q("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");C.push(W)}(m?W:z).className+=" CodeMirror-merge-pane-rightmost",C.push(q("div",null,null,"height: 0; clear: both;"));var Q=this.wrap=e.appendChild(q("div",C,"CodeMirror-merge CodeMirror-merge-"+D+"pane"));this.edit=b(z,be(o)),A&&A.init(H,u,o),P&&P.init(W,d,o),o.collapseIdentical&&this.editor().operation(function(){qe(U,o.collapseIdentical)}),o.connect=="align"&&(this.aligners=[],I(this.left||this.right,!0)),A&&A.registerEvents(P),P&&P.registerEvents(A);var K=function(){A&&E(A),P&&E(P)};b.on(window,"resize",K);var X=setInterval(function(){for(var G=Q.parentNode;G&&G!=document.body;G=G.parentNode);G||(clearInterval(X),b.off(window,"resize",K))},5e3)};function V(e){var o=e.lockButton=q("div",null,"CodeMirror-merge-scrolllock");o.setAttribute("role","button"),o.setAttribute("tabindex","0");var u=q("div",[o],"CodeMirror-merge-scrolllock-wrap");b.on(o,"click",function(){s(e,!e.lockScroll)}),b.on(o,"keyup",function(D){(D.key==="Enter"||D.code==="Space")&&s(e,!e.lockScroll)});var d=[u];if(e.mv.options.revertButtons!==!1){e.copyButtons=q("div",null,"CodeMirror-merge-copybuttons-"+e.type);var v=function(D){var C=D.target||D.srcElement;if(!!C.chunk){if(C.className=="CodeMirror-merge-copy-reverse"){L(e,e.orig,e.edit,C.chunk);return}L(e,e.edit,e.orig,C.chunk)}};b.on(e.copyButtons,"click",v),b.on(e.copyButtons,"keyup",function(D){(D.key==="Enter"||D.code==="Space")&&v(D)}),d.unshift(e.copyButtons)}if(e.mv.options.connect!="align"){var m=document.createElementNS&&document.createElementNS(y,"svg");m&&!m.createSVGRect&&(m=null),e.svg=m,m&&d.push(m)}return e.gap=q("div",d,"CodeMirror-merge-gap")}N.prototype={constructor:N,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(e){this.right&&this.right.setShowDifferences(e),this.left&&this.left.setShowDifferences(e)},rightChunks:function(){if(this.right)return n(this.right),this.right.chunks},leftChunks:function(){if(this.left)return n(this.left),this.left.chunks}};function $(e){return typeof e=="string"?e:e.getValue()}var x;function Te(e,o,u){x||(x=new diff_match_patch);for(var d=x.diff_main(e,o),v=0;v<d.length;++v){var m=d[v];(u?!/[^ \t]/.test(m[1]):!m[1])?d.splice(v--,1):v&&d[v-1][0]==m[0]&&(d.splice(v--,1),d[v][1]+=m[1])}return d}function Ce(e){var o=[];if(!e.length)return o;for(var u=0,d=0,v=T(0,0),m=T(0,0),D=0;D<e.length;++D){var C=e[D],A=C[0];if(A==DIFF_EQUAL){var P=!Fe(e,D)||v.line<u||m.line<d?1:0,U=v.line+P,H=m.line+P;he(v,C[1],null,m);var z=Ae(e,D)?1:0,W=v.line+z,Q=m.line+z;W>U&&(D&&o.push({origFrom:d,origTo:H,editFrom:u,editTo:U}),u=W,d=Q)}else he(A==DIFF_INSERT?v:m,C[1])}return(u<=v.line||d<=m.line)&&o.push({origFrom:d,origTo:m.line+1,editFrom:u,editTo:v.line+1}),o}function Ae(e,o){if(o==e.length-1)return!0;var u=e[o+1][1];return u.length==1&&o<e.length-2||u.charCodeAt(0)!=10?!1:o==e.length-2?!0:(u=e[o+2][1],(u.length>1||o==e.length-3)&&u.charCodeAt(0)==10)}function Fe(e,o){if(o==0)return!0;var u=e[o-1][1];return u.charCodeAt(u.length-1)!=10?!1:o==1?!0:(u=e[o-2][1],u.charCodeAt(u.length-1)==10)}function Je(e,o,u){for(var d,v,m,D,C=0;C<e.length;C++){var A=e[C],P=u?A.editFrom:A.origFrom,U=u?A.editTo:A.origTo;v==null&&(P>o?(v=A.editFrom,D=A.origFrom):U>o&&(v=A.editTo,D=A.origTo)),U<=o?(d=A.editTo,m=A.origTo):P<=o&&(d=A.editFrom,m=A.origFrom)}return{edit:{before:d,after:v},orig:{before:m,after:D}}}function Ze(e,o,u){e.addLineClass(o,"wrap","CodeMirror-merge-collapsed-line");var d=document.createElement("span");d.className="CodeMirror-merge-collapsed-widget",d.title=e.phrase("Identical text collapsed. Click to expand.");var v=e.markText(T(o,0),T(u-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:d,clearOnEnter:!0});function m(){v.clear(),e.removeLineClass(o,"wrap","CodeMirror-merge-collapsed-line")}return v.explicitlyCleared&&m(),b.on(d,"click",m),v.on("clear",m),b.on(d,"click",m),{mark:v,clear:m}}function Ke(e,o){var u=[];function d(){for(var C=0;C<u.length;C++)u[C].clear()}for(var v=0;v<o.length;v++){var m=o[v],D=Ze(m.cm,m.line,m.line+e);u.push(D),D.mark.on("clear",d)}return u[0].mark}function Me(e,o,u,d){for(var v=0;v<e.chunks.length;v++)for(var m=e.chunks[v],D=m.editFrom-o;D<m.editTo+o;D++){var C=D+u;C>=0&&C<d.length&&(d[C]=!1)}}function qe(e,o){typeof o!="number"&&(o=2);for(var u=[],d=e.editor(),v=d.firstLine(),m=v,D=d.lastLine();m<=D;m++)u.push(!0);e.left&&Me(e.left,o,v,u),e.right&&Me(e.right,o,v,u);for(var C=0;C<u.length;C++)if(u[C]){for(var A=C+v,P=1;C<u.length-1&&u[C+1];C++,P++);if(P>o){var U=[{line:A,cm:d}];e.left&&U.push({line:k(A,e.left.chunks),cm:e.left.orig}),e.right&&U.push({line:k(A,e.right.chunks),cm:e.right.orig});var H=Ke(P,U);e.options.onCollapse&&e.options.onCollapse(e,A,P,H)}}}function q(e,o,u,d){var v=document.createElement(e);if(u&&(v.className=u),d&&(v.style.cssText=d),typeof o=="string")v.appendChild(document.createTextNode(o));else if(o)for(var m=0;m<o.length;++m)v.appendChild(o[m]);return v}function ge(e){for(var o=e.childNodes.length;o>0;--o)e.removeChild(e.firstChild)}function Oe(e){for(var o=1;o<arguments.length;o+=2)e.setAttribute(arguments[o],arguments[o+1])}function be(e,o){o||(o={});for(var u in e)e.hasOwnProperty(u)&&(o[u]=e[u]);return o}function he(e,o,u,d){for(var v=u?T(e.line,e.ch):e,m=0;;){var D=o.indexOf(`
`,m);if(D==-1)break;++v.line,d&&++d.line,m=D+1}return v.ch=(m?0:v.ch)+(o.length-m),d&&(d.ch=(m?0:d.ch)+(o.length-m)),v}var Ie=1,ee=2,ce=4;function _e(e){this.cm=e,this.alignable=[],this.height=e.doc.height;var o=this;e.on("markerAdded",function(u,d){if(!!d.collapsed){var v=d.find(1);v!=null&&o.set(v.line,ce)}}),e.on("markerCleared",function(u,d,v,m){m!=null&&d.collapsed&&o.check(m,ce,o.hasMarker)}),e.on("markerChanged",this.signal.bind(this)),e.on("lineWidgetAdded",function(u,d,v){d.mergeSpacer||(d.above?o.set(v-1,ee):o.set(v,Ie))}),e.on("lineWidgetCleared",function(u,d,v){d.mergeSpacer||(d.above?o.check(v-1,ee,o.hasWidgetBelow):o.check(v,Ie,o.hasWidget))}),e.on("lineWidgetChanged",this.signal.bind(this)),e.on("change",function(u,d){var v=d.from.line,m=d.to.line-d.from.line,D=d.text.length-1,C=v+D;(m||D)&&o.map(v,m,D),o.check(C,ce,o.hasMarker),(m||D)&&o.check(d.from.line,ce,o.hasMarker)}),e.on("viewportChange",function(){o.cm.doc.height!=o.height&&o.signal()})}_e.prototype={signal:function(){b.signal(this,"realign"),this.height=this.cm.doc.height},set:function(e,o){for(var u=-1;u<this.alignable.length;u+=2){var d=this.alignable[u]-e;if(d==0){if((this.alignable[u+1]&o)==o)return;this.alignable[u+1]|=o,this.signal();return}if(d>0)break}this.signal(),this.alignable.splice(u,0,e,o)},find:function(e){for(var o=0;o<this.alignable.length;o+=2)if(this.alignable[o]==e)return o;return-1},check:function(e,o,u){var d=this.find(e);if(!(d==-1||!(this.alignable[d+1]&o))&&!u.call(this,e)){this.signal();var v=this.alignable[d+1]&~o;v?this.alignable[d+1]=v:this.alignable.splice(d,2)}},hasMarker:function(e){var o=this.cm.getLineHandle(e);if(o.markedSpans){for(var u=0;u<o.markedSpans.length;u++)if(o.markedSpans[u].marker.collapsed&&o.markedSpans[u].to!=null)return!0}return!1},hasWidget:function(e){var o=this.cm.getLineHandle(e);if(o.widgets){for(var u=0;u<o.widgets.length;u++)if(!o.widgets[u].above&&!o.widgets[u].mergeSpacer)return!0}return!1},hasWidgetBelow:function(e){if(e==this.cm.lastLine())return!1;var o=this.cm.getLineHandle(e+1);if(o.widgets){for(var u=0;u<o.widgets.length;u++)if(o.widgets[u].above&&!o.widgets[u].mergeSpacer)return!0}return!1},map:function(e,o,u){for(var d=u-o,v=e+o,m=-1,D=-1,C=0;C<this.alignable.length;C+=2){var A=this.alignable[C];A==e&&this.alignable[C+1]&ee&&(m=C),A==v&&this.alignable[C+1]&ee&&(D=C),!(A<=e)&&(A<v?this.alignable.splice(C--,2):this.alignable[C]+=d)}if(m>-1){var P=this.alignable[m+1];P==ee?this.alignable.splice(m,2):this.alignable[m+1]=P&~ee}D>-1&&u&&this.set(e+u,ee)}};function Xe(e,o){return(e.line-o.line||e.ch-o.ch)<0?e:o}function Ye(e,o){return(e.line-o.line||e.ch-o.ch)>0?e:o}function xe(e,o){return e.line==o.line&&e.ch==o.ch}function et(e,o,u){for(var d=e.length-1;d>=0;d--){var v=e[d],m=(u?v.origTo:v.editTo)-1;if(m<o)return m}}function tt(e,o,u){for(var d=0;d<e.length;d++){var v=e[d],m=u?v.origFrom:v.editFrom;if(m>o)return m}}function Be(e,o){var u=null,d=e.state.diffViews,v=e.getCursor().line;if(d)for(var m=0;m<d.length;m++){var D=d[m],C=e==D.orig;n(D);var A=o<0?et(D.chunks,v,C):tt(D.chunks,v,C);A!=null&&(u==null||(o<0?A>u:A<u))&&(u=A)}if(u!=null)e.setCursor(u,0);else return b.Pass}b.commands.goNextDiff=function(e){return Be(e,1)},b.commands.goPrevDiff=function(e){return Be(e,-1)}})})();var Qe={exports:{}};(function(O){var _=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},b=-1,T=1,y=0;_.Diff=function(t,n){return[t,n]},_.prototype.diff_main=function(t,n,r,i){typeof i>"u"&&(this.Diff_Timeout<=0?i=Number.MAX_VALUE:i=new Date().getTime()+this.Diff_Timeout*1e3);var l=i;if(t==null||n==null)throw new Error("Null input. (diff_main)");if(t==n)return t?[new _.Diff(y,t)]:[];typeof r>"u"&&(r=!0);var a=r,f=this.diff_commonPrefix(t,n),s=t.substring(0,f);t=t.substring(f),n=n.substring(f),f=this.diff_commonSuffix(t,n);var g=t.substring(t.length-f);t=t.substring(0,t.length-f),n=n.substring(0,n.length-f);var h=this.diff_compute_(t,n,a,l);return s&&h.unshift(new _.Diff(y,s)),g&&h.push(new _.Diff(y,g)),this.diff_cleanupMerge(h),h},_.prototype.diff_compute_=function(t,n,r,i){var l;if(!t)return[new _.Diff(T,n)];if(!n)return[new _.Diff(b,t)];var a=t.length>n.length?t:n,f=t.length>n.length?n:t,s=a.indexOf(f);if(s!=-1)return l=[new _.Diff(T,a.substring(0,s)),new _.Diff(y,f),new _.Diff(T,a.substring(s+f.length))],t.length>n.length&&(l[0][0]=l[2][0]=b),l;if(f.length==1)return[new _.Diff(b,t),new _.Diff(T,n)];var g=this.diff_halfMatch_(t,n);if(g){var h=g[0],p=g[1],c=g[2],w=g[3],E=g[4],k=this.diff_main(h,c,r,i),S=this.diff_main(p,w,r,i);return k.concat([new _.Diff(y,E)],S)}return r&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,i):this.diff_bisect_(t,n,i)},_.prototype.diff_lineMode_=function(t,n,r){var i=this.diff_linesToChars_(t,n);t=i.chars1,n=i.chars2;var l=i.lineArray,a=this.diff_main(t,n,!1,r);this.diff_charsToLines_(a,l),this.diff_cleanupSemantic(a),a.push(new _.Diff(y,""));for(var f=0,s=0,g=0,h="",p="";f<a.length;){switch(a[f][0]){case T:g++,p+=a[f][1];break;case b:s++,h+=a[f][1];break;case y:if(s>=1&&g>=1){a.splice(f-s-g,s+g),f=f-s-g;for(var c=this.diff_main(h,p,!1,r),w=c.length-1;w>=0;w--)a.splice(f,0,c[w]);f=f+c.length}g=0,s=0,h="",p="";break}f++}return a.pop(),a},_.prototype.diff_bisect_=function(t,n,r){for(var i=t.length,l=n.length,a=Math.ceil((i+l)/2),f=a,s=2*a,g=new Array(s),h=new Array(s),p=0;p<s;p++)g[p]=-1,h[p]=-1;g[f+1]=0,h[f+1]=0;for(var c=i-l,w=c%2!=0,E=0,k=0,S=0,F=0,M=0;M<a&&!(new Date().getTime()>r);M++){for(var I=-M+E;I<=M-k;I+=2){var B=f+I,R;I==-M||I!=M&&g[B-1]<g[B+1]?R=g[B+1]:R=g[B-1]+1;for(var j=R-I;R<i&&j<l&&t.charAt(R)==n.charAt(j);)R++,j++;if(g[B]=R,R>i)k+=2;else if(j>l)E+=2;else if(w){var L=f+c-I;if(L>=0&&L<s&&h[L]!=-1){var N=i-h[L];if(R>=N)return this.diff_bisectSplit_(t,n,R,j,r)}}}for(var V=-M+S;V<=M-F;V+=2){var L=f+V,N;V==-M||V!=M&&h[L-1]<h[L+1]?N=h[L+1]:N=h[L-1]+1;for(var $=N-V;N<i&&$<l&&t.charAt(i-N-1)==n.charAt(l-$-1);)N++,$++;if(h[L]=N,N>i)F+=2;else if($>l)S+=2;else if(!w){var B=f+c-V;if(B>=0&&B<s&&g[B]!=-1){var R=g[B],j=f+R-B;if(N=i-N,R>=N)return this.diff_bisectSplit_(t,n,R,j,r)}}}}return[new _.Diff(b,t),new _.Diff(T,n)]},_.prototype.diff_bisectSplit_=function(t,n,r,i,l){var a=t.substring(0,r),f=n.substring(0,i),s=t.substring(r),g=n.substring(i),h=this.diff_main(a,f,!1,l),p=this.diff_main(s,g,!1,l);return h.concat(p)},_.prototype.diff_linesToChars_=function(t,n){var r=[],i={};r[0]="";function l(g){for(var h="",p=0,c=-1,w=r.length;c<g.length-1;){c=g.indexOf(`
`,p),c==-1&&(c=g.length-1);var E=g.substring(p,c+1);(i.hasOwnProperty?i.hasOwnProperty(E):i[E]!==void 0)?h+=String.fromCharCode(i[E]):(w==a&&(E=g.substring(p),c=g.length),h+=String.fromCharCode(w),i[E]=w,r[w++]=E),p=c+1}return h}var a=4e4,f=l(t);a=65535;var s=l(n);return{chars1:f,chars2:s,lineArray:r}},_.prototype.diff_charsToLines_=function(t,n){for(var r=0;r<t.length;r++){for(var i=t[r][1],l=[],a=0;a<i.length;a++)l[a]=n[i.charCodeAt(a)];t[r][1]=l.join("")}},_.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!=n.charAt(0))return 0;for(var r=0,i=Math.min(t.length,n.length),l=i,a=0;r<l;)t.substring(a,l)==n.substring(a,l)?(r=l,a=r):i=l,l=Math.floor((i-r)/2+r);return l},_.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!=n.charAt(n.length-1))return 0;for(var r=0,i=Math.min(t.length,n.length),l=i,a=0;r<l;)t.substring(t.length-l,t.length-a)==n.substring(n.length-l,n.length-a)?(r=l,a=r):i=l,l=Math.floor((i-r)/2+r);return l},_.prototype.diff_commonOverlap_=function(t,n){var r=t.length,i=n.length;if(r==0||i==0)return 0;r>i?t=t.substring(r-i):r<i&&(n=n.substring(0,r));var l=Math.min(r,i);if(t==n)return l;for(var a=0,f=1;;){var s=t.substring(l-f),g=n.indexOf(s);if(g==-1)return a;f+=g,(g==0||t.substring(l-f)==n.substring(0,f))&&(a=f,f++)}},_.prototype.diff_halfMatch_=function(t,n){if(this.Diff_Timeout<=0)return null;var r=t.length>n.length?t:n,i=t.length>n.length?n:t;if(r.length<4||i.length*2<r.length)return null;var l=this;function a(k,S,F){for(var M=k.substring(F,F+Math.floor(k.length/4)),I=-1,B="",R,j,L,N;(I=S.indexOf(M,I+1))!=-1;){var V=l.diff_commonPrefix(k.substring(F),S.substring(I)),$=l.diff_commonSuffix(k.substring(0,F),S.substring(0,I));B.length<$+V&&(B=S.substring(I-$,I)+S.substring(I,I+V),R=k.substring(0,F-$),j=k.substring(F+V),L=S.substring(0,I-$),N=S.substring(I+V))}return B.length*2>=k.length?[R,j,L,N,B]:null}var f=a(r,i,Math.ceil(r.length/4)),s=a(r,i,Math.ceil(r.length/2)),g;if(!f&&!s)return null;s?f?g=f[4].length>s[4].length?f:s:g=s:g=f;var h,p,c,w;t.length>n.length?(h=g[0],p=g[1],c=g[2],w=g[3]):(c=g[0],w=g[1],h=g[2],p=g[3]);var E=g[4];return[h,p,c,w,E]},_.prototype.diff_cleanupSemantic=function(t){for(var n=!1,r=[],i=0,l=null,a=0,f=0,s=0,g=0,h=0;a<t.length;)t[a][0]==y?(r[i++]=a,f=g,s=h,g=0,h=0,l=t[a][1]):(t[a][0]==T?g+=t[a][1].length:h+=t[a][1].length,l&&l.length<=Math.max(f,s)&&l.length<=Math.max(g,h)&&(t.splice(r[i-1],0,new _.Diff(b,l)),t[r[i-1]+1][0]=T,i--,i--,a=i>0?r[i-1]:-1,f=0,s=0,g=0,h=0,l=null,n=!0)),a++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),a=1;a<t.length;){if(t[a-1][0]==b&&t[a][0]==T){var p=t[a-1][1],c=t[a][1],w=this.diff_commonOverlap_(p,c),E=this.diff_commonOverlap_(c,p);w>=E?(w>=p.length/2||w>=c.length/2)&&(t.splice(a,0,new _.Diff(y,c.substring(0,w))),t[a-1][1]=p.substring(0,p.length-w),t[a+1][1]=c.substring(w),a++):(E>=p.length/2||E>=c.length/2)&&(t.splice(a,0,new _.Diff(y,p.substring(0,E))),t[a-1][0]=T,t[a-1][1]=c.substring(0,c.length-E),t[a+1][0]=b,t[a+1][1]=p.substring(E),a++),a++}a++}},_.prototype.diff_cleanupSemanticLossless=function(t){function n(E,k){if(!E||!k)return 6;var S=E.charAt(E.length-1),F=k.charAt(0),M=S.match(_.nonAlphaNumericRegex_),I=F.match(_.nonAlphaNumericRegex_),B=M&&S.match(_.whitespaceRegex_),R=I&&F.match(_.whitespaceRegex_),j=B&&S.match(_.linebreakRegex_),L=R&&F.match(_.linebreakRegex_),N=j&&E.match(_.blanklineEndRegex_),V=L&&k.match(_.blanklineStartRegex_);return N||V?5:j||L?4:M&&!B&&R?3:B||R?2:M||I?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==y&&t[r+1][0]==y){var i=t[r-1][1],l=t[r][1],a=t[r+1][1],f=this.diff_commonSuffix(i,l);if(f){var s=l.substring(l.length-f);i=i.substring(0,i.length-f),l=s+l.substring(0,l.length-f),a=s+a}for(var g=i,h=l,p=a,c=n(i,l)+n(l,a);l.charAt(0)===a.charAt(0);){i+=l.charAt(0),l=l.substring(1)+a.charAt(0),a=a.substring(1);var w=n(i,l)+n(l,a);w>=c&&(c=w,g=i,h=l,p=a)}t[r-1][1]!=g&&(g?t[r-1][1]=g:(t.splice(r-1,1),r--),t[r][1]=h,p?t[r+1][1]=p:(t.splice(r+1,1),r--))}r++}},_.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,_.whitespaceRegex_=/\s/,_.linebreakRegex_=/[\r\n]/,_.blanklineEndRegex_=/\n\r?\n$/,_.blanklineStartRegex_=/^\r?\n\r?\n/,_.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,r=[],i=0,l=null,a=0,f=!1,s=!1,g=!1,h=!1;a<t.length;)t[a][0]==y?(t[a][1].length<this.Diff_EditCost&&(g||h)?(r[i++]=a,f=g,s=h,l=t[a][1]):(i=0,l=null),g=h=!1):(t[a][0]==b?h=!0:g=!0,l&&(f&&s&&g&&h||l.length<this.Diff_EditCost/2&&f+s+g+h==3)&&(t.splice(r[i-1],0,new _.Diff(b,l)),t[r[i-1]+1][0]=T,i--,l=null,f&&s?(g=h=!0,i=0):(i--,a=i>0?r[i-1]:-1,g=h=!1),n=!0)),a++;n&&this.diff_cleanupMerge(t)},_.prototype.diff_cleanupMerge=function(t){t.push(new _.Diff(y,""));for(var n=0,r=0,i=0,l="",a="",f;n<t.length;)switch(t[n][0]){case T:i++,a+=t[n][1],n++;break;case b:r++,l+=t[n][1],n++;break;case y:r+i>1?(r!==0&&i!==0&&(f=this.diff_commonPrefix(a,l),f!==0&&(n-r-i>0&&t[n-r-i-1][0]==y?t[n-r-i-1][1]+=a.substring(0,f):(t.splice(0,0,new _.Diff(y,a.substring(0,f))),n++),a=a.substring(f),l=l.substring(f)),f=this.diff_commonSuffix(a,l),f!==0&&(t[n][1]=a.substring(a.length-f)+t[n][1],a=a.substring(0,a.length-f),l=l.substring(0,l.length-f))),n-=r+i,t.splice(n,r+i),l.length&&(t.splice(n,0,new _.Diff(b,l)),n++),a.length&&(t.splice(n,0,new _.Diff(T,a)),n++),n++):n!==0&&t[n-1][0]==y?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,l="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(n=1;n<t.length-1;)t[n-1][0]==y&&t[n+1][0]==y&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(t)},_.prototype.diff_xIndex=function(t,n){var r=0,i=0,l=0,a=0,f;for(f=0;f<t.length&&(t[f][0]!==T&&(r+=t[f][1].length),t[f][0]!==b&&(i+=t[f][1].length),!(r>n));f++)l=r,a=i;return t.length!=f&&t[f][0]===b?a:a+(n-l)},_.prototype.diff_prettyHtml=function(t){for(var n=[],r=/&/g,i=/</g,l=/>/g,a=/\n/g,f=0;f<t.length;f++){var s=t[f][0],g=t[f][1],h=g.replace(r,"&amp;").replace(i,"&lt;").replace(l,"&gt;").replace(a,"&para;<br>");switch(s){case T:n[f]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case b:n[f]='<del style="background:#ffe6e6;">'+h+"</del>";break;case y:n[f]="<span>"+h+"</span>";break}}return n.join("")},_.prototype.diff_text1=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==T&&(n[r]=t[r][1]);return n.join("")},_.prototype.diff_text2=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==b&&(n[r]=t[r][1]);return n.join("")},_.prototype.diff_levenshtein=function(t){for(var n=0,r=0,i=0,l=0;l<t.length;l++){var a=t[l][0],f=t[l][1];switch(a){case T:r+=f.length;break;case b:i+=f.length;break;case y:n+=Math.max(r,i),r=0,i=0;break}}return n+=Math.max(r,i),n},_.prototype.diff_toDelta=function(t){for(var n=[],r=0;r<t.length;r++)switch(t[r][0]){case T:n[r]="+"+encodeURI(t[r][1]);break;case b:n[r]="-"+t[r][1].length;break;case y:n[r]="="+t[r][1].length;break}return n.join("	").replace(/%20/g," ")},_.prototype.diff_fromDelta=function(t,n){for(var r=[],i=0,l=0,a=n.split(/\t/g),f=0;f<a.length;f++){var s=a[f].substring(1);switch(a[f].charAt(0)){case"+":try{r[i++]=new _.Diff(T,decodeURI(s))}catch{throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var g=parseInt(s,10);if(isNaN(g)||g<0)throw new Error("Invalid number in diff_fromDelta: "+s);var h=t.substring(l,l+=g);a[f].charAt(0)=="="?r[i++]=new _.Diff(y,h):r[i++]=new _.Diff(b,h);break;default:if(a[f])throw new Error("Invalid diff operation in diff_fromDelta: "+a[f])}}if(l!=t.length)throw new Error("Delta length ("+l+") does not equal source text length ("+t.length+").");return r},_.prototype.match_main=function(t,n,r){if(t==null||n==null||r==null)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,t.length)),t==n?0:t.length?t.substring(r,r+n.length)==n?r:this.match_bitap_(t,n,r):-1},_.prototype.match_bitap_=function(t,n,r){if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(n),l=this;function a(R,j){var L=R/n.length,N=Math.abs(r-j);return l.Match_Distance?L+N/l.Match_Distance:N?1:L}var f=this.Match_Threshold,s=t.indexOf(n,r);s!=-1&&(f=Math.min(a(0,s),f),s=t.lastIndexOf(n,r+n.length),s!=-1&&(f=Math.min(a(0,s),f)));var g=1<<n.length-1;s=-1;for(var h,p,c=n.length+t.length,w,E=0;E<n.length;E++){for(h=0,p=c;h<p;)a(E,r+p)<=f?h=p:c=p,p=Math.floor((c-h)/2+h);c=p;var k=Math.max(1,r-p+1),S=Math.min(r+p,t.length)+n.length,F=Array(S+2);F[S+1]=(1<<E)-1;for(var M=S;M>=k;M--){var I=i[t.charAt(M-1)];if(E===0?F[M]=(F[M+1]<<1|1)&I:F[M]=(F[M+1]<<1|1)&I|((w[M+1]|w[M])<<1|1)|w[M+1],F[M]&g){var B=a(E,M-1);if(B<=f)if(f=B,s=M-1,s>r)k=Math.max(1,2*r-s);else break}}if(a(E+1,r)>f)break;w=F}return s},_.prototype.match_alphabet_=function(t){for(var n={},r=0;r<t.length;r++)n[t.charAt(r)]=0;for(var r=0;r<t.length;r++)n[t.charAt(r)]|=1<<t.length-r-1;return n},_.prototype.patch_addContext_=function(t,n){if(n.length!=0){if(t.start2===null)throw Error("patch not initialized");for(var r=n.substring(t.start2,t.start2+t.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=n.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var l=n.substring(t.start2-i,t.start2);l&&t.diffs.unshift(new _.Diff(y,l));var a=n.substring(t.start2+t.length1,t.start2+t.length1+i);a&&t.diffs.push(new _.Diff(y,a)),t.start1-=l.length,t.start2-=l.length,t.length1+=l.length+a.length,t.length2+=l.length+a.length}},_.prototype.patch_make=function(t,n,r){var i,l;if(typeof t=="string"&&typeof n=="string"&&typeof r>"u")i=t,l=this.diff_main(i,n,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(t&&typeof t=="object"&&typeof n>"u"&&typeof r>"u")l=t,i=this.diff_text1(l);else if(typeof t=="string"&&n&&typeof n=="object"&&typeof r>"u")i=t,l=n;else if(typeof t=="string"&&typeof n=="string"&&r&&typeof r=="object")i=t,l=r;else throw new Error("Unknown call format to patch_make.");if(l.length===0)return[];for(var a=[],f=new _.patch_obj,s=0,g=0,h=0,p=i,c=i,w=0;w<l.length;w++){var E=l[w][0],k=l[w][1];switch(!s&&E!==y&&(f.start1=g,f.start2=h),E){case T:f.diffs[s++]=l[w],f.length2+=k.length,c=c.substring(0,h)+k+c.substring(h);break;case b:f.length1+=k.length,f.diffs[s++]=l[w],c=c.substring(0,h)+c.substring(h+k.length);break;case y:k.length<=2*this.Patch_Margin&&s&&l.length!=w+1?(f.diffs[s++]=l[w],f.length1+=k.length,f.length2+=k.length):k.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(f,p),a.push(f),f=new _.patch_obj,s=0,p=c,g=h);break}E!==T&&(g+=k.length),E!==b&&(h+=k.length)}return s&&(this.patch_addContext_(f,p),a.push(f)),a},_.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],l=new _.patch_obj;l.diffs=[];for(var a=0;a<i.diffs.length;a++)l.diffs[a]=new _.Diff(i.diffs[a][0],i.diffs[a][1]);l.start1=i.start1,l.start2=i.start2,l.length1=i.length1,l.length2=i.length2,n[r]=l}return n},_.prototype.patch_apply=function(t,n){if(t.length==0)return[n,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);n=r+n+r,this.patch_splitMax(t);for(var i=0,l=[],a=0;a<t.length;a++){var f=t[a].start2+i,s=this.diff_text1(t[a].diffs),g,h=-1;if(s.length>this.Match_MaxBits?(g=this.match_main(n,s.substring(0,this.Match_MaxBits),f),g!=-1&&(h=this.match_main(n,s.substring(s.length-this.Match_MaxBits),f+s.length-this.Match_MaxBits),(h==-1||g>=h)&&(g=-1))):g=this.match_main(n,s,f),g==-1)l[a]=!1,i-=t[a].length2-t[a].length1;else{l[a]=!0,i=g-f;var p;if(h==-1?p=n.substring(g,g+s.length):p=n.substring(g,h+this.Match_MaxBits),s==p)n=n.substring(0,g)+this.diff_text2(t[a].diffs)+n.substring(g+s.length);else{var c=this.diff_main(s,p,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(c)/s.length>this.Patch_DeleteThreshold)l[a]=!1;else{this.diff_cleanupSemanticLossless(c);for(var w=0,E,k=0;k<t[a].diffs.length;k++){var S=t[a].diffs[k];S[0]!==y&&(E=this.diff_xIndex(c,w)),S[0]===T?n=n.substring(0,g+E)+S[1]+n.substring(g+E):S[0]===b&&(n=n.substring(0,g+E)+n.substring(g+this.diff_xIndex(c,w+S[1].length))),S[0]!==b&&(w+=S[1].length)}}}}}return n=n.substring(r.length,n.length-r.length),[n,l]},_.prototype.patch_addPadding=function(t){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=n,t[i].start2+=n;var l=t[0],a=l.diffs;if(a.length==0||a[0][0]!=y)a.unshift(new _.Diff(y,r)),l.start1-=n,l.start2-=n,l.length1+=n,l.length2+=n;else if(n>a[0][1].length){var f=n-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],l.start1-=f,l.start2-=f,l.length1+=f,l.length2+=f}if(l=t[t.length-1],a=l.diffs,a.length==0||a[a.length-1][0]!=y)a.push(new _.Diff(y,r)),l.length1+=n,l.length2+=n;else if(n>a[a.length-1][1].length){var f=n-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,f),l.length1+=f,l.length2+=f}return r},_.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var l=i.start1,a=i.start2,f="";i.diffs.length!==0;){var s=new _.patch_obj,g=!0;for(s.start1=l-f.length,s.start2=a-f.length,f!==""&&(s.length1=s.length2=f.length,s.diffs.push(new _.Diff(y,f)));i.diffs.length!==0&&s.length1<n-this.Patch_Margin;){var h=i.diffs[0][0],p=i.diffs[0][1];h===T?(s.length2+=p.length,a+=p.length,s.diffs.push(i.diffs.shift()),g=!1):h===b&&s.diffs.length==1&&s.diffs[0][0]==y&&p.length>2*n?(s.length1+=p.length,l+=p.length,g=!1,s.diffs.push(new _.Diff(h,p)),i.diffs.shift()):(p=p.substring(0,n-s.length1-this.Patch_Margin),s.length1+=p.length,l+=p.length,h===y?(s.length2+=p.length,a+=p.length):g=!1,s.diffs.push(new _.Diff(h,p)),p==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(p.length))}f=this.diff_text2(s.diffs),f=f.substring(f.length-this.Patch_Margin);var c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);c!==""&&(s.length1+=c.length,s.length2+=c.length,s.diffs.length!==0&&s.diffs[s.diffs.length-1][0]===y?s.diffs[s.diffs.length-1][1]+=c:s.diffs.push(new _.Diff(y,c))),g||t.splice(++r,0,s)}}},_.prototype.patch_toText=function(t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r];return n.join("")},_.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var r=t.split(`
`),i=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var a=r[i].match(l);if(!a)throw new Error("Invalid patch string: "+r[i]);var f=new _.patch_obj;for(n.push(f),f.start1=parseInt(a[1],10),a[2]===""?(f.start1--,f.length1=1):a[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(a[2],10)),f.start2=parseInt(a[3],10),a[4]===""?(f.start2--,f.length2=1):a[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(a[4],10)),i++;i<r.length;){var s=r[i].charAt(0);try{var g=decodeURI(r[i].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+g)}if(s=="-")f.diffs.push(new _.Diff(b,g));else if(s=="+")f.diffs.push(new _.Diff(T,g));else if(s==" ")f.diffs.push(new _.Diff(y,g));else{if(s=="@")break;if(s!=="")throw new Error('Invalid patch mode "'+s+'" in: '+g)}i++}}return n},_.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},_.patch_obj.prototype.toString=function(){var t,n;this.length1===0?t=this.start1+",0":this.length1==1?t=this.start1+1:t=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2==1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var r=["@@ -"+t+" +"+n+` @@
`],i,l=0;l<this.diffs.length;l++){switch(this.diffs[l][0]){case T:i="+";break;case b:i="-";break;case y:i=" ";break}r[l+1]=i+encodeURI(this.diffs[l][1])+`
`}return r.join("").replace(/%20/g," ")},O.exports=_,O.exports.diff_match_patch=_,O.exports.DIFF_DELETE=b,O.exports.DIFF_INSERT=T,O.exports.DIFF_EQUAL=y})(Qe);const dt=Qe.exports;(function(O,_){(function(b){b(ie())})(function(b){b.defineSimpleMode=function(s,g){b.defineMode(s,function(h){return b.simpleMode(h,g)})},b.simpleMode=function(s,g){T(g,"start");var h={},p=g.meta||{},c=!1;for(var w in g)if(w!=p&&g.hasOwnProperty(w))for(var E=h[w]=[],k=g[w],S=0;S<k.length;S++){var F=k[S];E.push(new n(F,g)),(F.indent||F.dedent)&&(c=!0)}var M={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(B){var R={state:B.state,pending:B.pending,local:B.local,localState:null,indent:B.indent&&B.indent.slice(0)};B.localState&&(R.localState=b.copyState(B.local.mode,B.localState)),B.stack&&(R.stack=B.stack.slice(0));for(var j=B.persistentStates;j;j=j.next)R.persistentStates={mode:j.mode,spec:j.spec,state:j.state==B.localState?R.localState:b.copyState(j.mode,j.state),next:R.persistentStates};return R},token:r(h,s),innerMode:function(B){return B.local&&{mode:B.local.mode,state:B.localState}},indent:f(h,p)};if(p)for(var I in p)p.hasOwnProperty(I)&&(M[I]=p[I]);return M};function T(s,g){if(!s.hasOwnProperty(g))throw new Error("Undefined state "+g+" in simple mode")}function y(s,g){if(!s)return/(?:)/;var h="";return s instanceof RegExp?(s.ignoreCase&&(h="i"),s.unicode&&(h+="u"),s=s.source):s=String(s),new RegExp((g===!1?"":"^")+"(?:"+s+")",h)}function t(s){if(!s)return null;if(s.apply)return s;if(typeof s=="string")return s.replace(/\./g," ");for(var g=[],h=0;h<s.length;h++)g.push(s[h]&&s[h].replace(/\./g," "));return g}function n(s,g){(s.next||s.push)&&T(g,s.next||s.push),this.regex=y(s.regex),this.token=t(s.token),this.data=s}function r(s,g){return function(h,p){if(p.pending){var c=p.pending.shift();return p.pending.length==0&&(p.pending=null),h.pos+=c.text.length,c.token}if(p.local)if(p.local.end&&h.match(p.local.end)){var w=p.local.endToken||null;return p.local=p.localState=null,w}else{var w=p.local.mode.token(h,p.localState),E;return p.local.endScan&&(E=p.local.endScan.exec(h.current()))&&(h.pos=h.start+E.index),w}for(var k=s[p.state],S=0;S<k.length;S++){var F=k[S],M=(!F.data.sol||h.sol())&&h.match(F.regex);if(M){F.data.next?p.state=F.data.next:F.data.push?((p.stack||(p.stack=[])).push(p.state),p.state=F.data.push):F.data.pop&&p.stack&&p.stack.length&&(p.state=p.stack.pop()),F.data.mode&&l(g,p,F.data.mode,F.token),F.data.indent&&p.indent.push(h.indentation()+g.indentUnit),F.data.dedent&&p.indent.pop();var I=F.token;if(I&&I.apply&&(I=I(M)),M.length>2&&F.token&&typeof F.token!="string"){for(var B=2;B<M.length;B++)M[B]&&(p.pending||(p.pending=[])).push({text:M[B],token:F.token[B-1]});return h.backUp(M[0].length-(M[1]?M[1].length:0)),I[0]}else return I&&I.join?I[0]:I}}return h.next(),null}}function i(s,g){if(s===g)return!0;if(!s||typeof s!="object"||!g||typeof g!="object")return!1;var h=0;for(var p in s)if(s.hasOwnProperty(p)){if(!g.hasOwnProperty(p)||!i(s[p],g[p]))return!1;h++}for(var p in g)g.hasOwnProperty(p)&&h--;return h==0}function l(s,g,h,p){var c;if(h.persistent)for(var w=g.persistentStates;w&&!c;w=w.next)(h.spec?i(h.spec,w.spec):h.mode==w.mode)&&(c=w);var E=c?c.mode:h.mode||b.getMode(s,h.spec),k=c?c.state:b.startState(E);h.persistent&&!c&&(g.persistentStates={mode:E,spec:h.spec,state:k,next:g.persistentStates}),g.localState=k,g.local={mode:E,end:h.end&&y(h.end),endScan:h.end&&h.forceEnd!==!1&&y(h.end,!1),endToken:p&&p.join?p[p.length-1]:p}}function a(s,g){for(var h=0;h<g.length;h++)if(g[h]===s)return!0}function f(s,g){return function(h,p,c){if(h.local&&h.local.mode.indent)return h.local.mode.indent(h.localState,p,c);if(h.indent==null||h.local||g.dontIndentStates&&a(h.state,g.dontIndentStates)>-1)return b.Pass;var w=h.indent.length-1,E=s[h.state];e:for(;;){for(var k=0;k<E.length;k++){var S=E[k];if(S.data.dedent&&S.data.dedentIfLineStart!==!1){var F=S.regex.exec(p);if(F&&F[0]){w--,(S.next||S.push)&&(E=s[S.next||S.push]),p=p.slice(F[0].length);continue e}}}break}return w<0?0:h.indent[w]}}})})();!window.CodeMirror&&(window.CodeMirror=$e);const ue=window.CodeMirror||$e,vt=se({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:O=>O,"update:cminstance":O=>O},setup(O,{emit:_}){const b=Z(),T=Z(null),y=()=>{T.value=Se(ue.fromTextArea(b.value,O.options)),_("update:cminstance",T.value);const t=ne(()=>O.cminstance,n=>{var r;n&&((r=O.cminstance)==null||r.setValue(O.value||O.content)),_("ready",J(T)),t==null||t()},{deep:!0})};return me(()=>{y()}),{textarea:b,initialize:y}}}),Ee=(O,_)=>{const b=O.__vccOpts||O;for(const[T,y]of _)b[T]=y;return b},pt=["name","placeholder"];function mt(O,_,b,T,y,t){return re(),fe("textarea",{ref:"textarea",name:O.$props.name,placeholder:O.$props.placeholder},null,8,pt)}const We=Ee(vt,[["render",mt]]);window.diff_match_patch=dt;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const bt=se({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(O,{emit:_}){const b=Z(),T=Z(),y=()=>{b.value=Se(ue.MergeView(T.value,O.options)),_("update:cminstance",b.value),_("ready",b)};return me(()=>{y()}),{mergeView:T,initialize:y}}}),_t={ref:"mergeView"};function wt(O,_,b,T,y,t){return re(),fe("div",_t,null,512)}const yt=Ee(bt,[["render",wt]]);function kt(O){const _=/#link#(.+)#link#/g,b=[];let T;for(T=_.exec(O);T;){const y=document.createElement("a"),t=JSON.parse(T[1]),n=Object.entries(t);for(const[r,i]of n)y.setAttribute(r,i);y.className="editor_custom_link",y.innerHTML="logDownload",b.push({start:T.index,end:T.index+T[0].length,node:y}),T=_.exec(O)}return b}function St(O){const _=[];function b(){const T=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let y;for(y=T.exec(O);y;){const t=y[0].replace(/\r\n/g,`
`).split(`
`),n=y[2].replace(/\r\n/g,`
`).split(`
`),r=document.createElement("span"),i=y[1];r.className=`c-editor--log__${i}`;let l=0;for(let a=0;a<t.length;a++){const f=t[a],s=n[a],g=r.cloneNode(!1);g.innerText=s,_.push({start:y.index+l,end:y.index+l+f.length,node:g}),l=l+f.length+1}y=T.exec(O)}}return b(),_}const pe=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];ue.defineSimpleMode("fclog",{start:[...pe,{regex:/.*/,token:"hr"}],error:[...pe,{regex:/.*/,token:"error.strong"}],info:[...pe,{regex:/.*/,token:"bracket"}],warning:[...pe,{regex:/.*\[/,token:"comment"}]});ue.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const Dt=se({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(O,{emit:_}){const b=Z(),T=Z(null),y=(n=O.cminstance)=>{n.getAllMarks().forEach(l=>l.clear());const r=n.getValue(),i=[].concat(kt(r)).concat(St(r));for(let l=0;l<i.length;l++){const a=i[l];n.markText(n.posFromIndex(a.start),n.posFromIndex(a.end),{replacedWith:a.node})}},t=()=>{var n;T.value=Se(ue.fromTextArea(b.value,O.options)),_("update:cminstance",J(T)),(n=T.value)==null||n.on("change",y)};return ne(()=>O.cminstance,n=>{var r;n&&(y(O.cminstance),(r=O.cminstance)==null||r.setValue(O.value),_("ready",T))},{deep:!0,immediate:!0}),me(()=>{t()}),{initialize:t,textarea:b}}}),Et=["name","placeholder"];function Tt(O,_,b,T,y,t){return re(),fe("textarea",{ref:"textarea",name:O.$props.name,placeholder:O.$props.placeholder},null,8,Et)}const Ct=Ee(Dt,[["render",Tt]]),Ge={"update:value":()=>!0,change:(O,_)=>({value:O,cm:_}),input:()=>!0,ready:O=>O},At=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],Ft=()=>{const O={};return At.forEach(_=>{O[_]=(...b)=>b}),O},Mt={...Ge,...Ft()},ye={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2,styleActiveLine:!0};function Ot(O){Promise.resolve().then(()=>{const _=O.getScrollInfo();O.scrollTo(_.left,_.height)})}const It=({props:O,cminstance:_,emit:b,internalInstance:T,content:y})=>{const t=De(()=>{var r;return O.merge?(r=J(_))==null?void 0:r.editor():J(_)}),n=()=>{const r=[];return Object.keys(T==null?void 0:T.vnode.props).forEach(i=>{if(i.startsWith("on")){const l=i.replace(i[2],i[2].toLowerCase()).slice(2);!Ge[l]&&r.push(l)}}),r};return{listenerEvents:()=>{t.value.on("change",i=>{const l=i.getValue();l===y.value&&l!==""||(y.value=l,b("update:value",y.value||""),b("input",y.value||" "),Promise.resolve().then(()=>{b("change",y.value,i)}),O.keepCursorInEnd&&Ot(i))});const r={};n().filter(i=>!r[i]&&(r[i]=!0)).forEach(i=>{t.value.on(i,(...l)=>{b(i,...l)})})}}};function Bt({props:O,cminstance:_,presetRef:b}){const T=Z("100%"),y=Z("100%"),t=De(()=>{var s;return O.merge?(s=J(_))==null?void 0:s.editor():J(_)}),n=()=>{ft(()=>{var s;(s=t.value)==null||s.refresh()})},r=s=>s?!(s&&isNaN(+s)):!1,i=(s=O.width,g=O.height)=>{var h;let p="100%",c="100%";r(s)?p=`${String(s)}px`:s&&(p=s),r(g)?c=`${String(g)}px`:g&&(c=g),T.value=p,y.value=c,console.log("resize",p,c),(h=t.value)==null||h.setSize("100%","100%")},l=()=>{var s;const g=(s=t.value)==null?void 0:s.getWrapperElement();g==null||g.remove()},a=()=>{var s,g,h;const p=(s=t.value)==null?void 0:s.getDoc().getHistory();(g=b.value)==null||g.initialize(),l(),(h=t.value)==null||h.getDoc().setHistory(p)},f=()=>{const s=document.querySelector(".CodeMirror-gutters");return(s==null?void 0:s.style.left.replace("px",""))!=="0"};return{reload:a,refresh:n,resize:i,destroy:l,containerWidth:T,containerHeight:y,reviseStyle:()=>{if(n(),!f())return;const s=setInterval(()=>{f()?n():clearInterval(s)},60),g=setTimeout(()=>{clearInterval(s),clearTimeout(g)},400)}}}const ke=se({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>ye},globalOptions:{type:Object,default:()=>ye},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:Mt,setup(O,{expose:_,emit:b}){var T,y,t;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(L){if(L==null)throw new TypeError("Cannot convert undefined or null to object");const N=Object(L);for(let V=1;V<arguments.length;V++){const $=arguments[V];if($!=null)for(const x in $)Object.prototype.hasOwnProperty.call($,x)&&(N[x]=$[x])}return N},writable:!0,configurable:!0});const n=O,r=b,i=Z(null),l=Z(""),a=nt(We),f=Z({foldGutter:!0,...ye,...n.globalOptions,...n.options,gutters:[...new Set(["CodeMirror-linenumbers","CodeMirror-foldgutter",...((T=n.options)==null?void 0:T.gutters)||[]])]}),s=ze(),g=n.name||((t=(y=s==null?void 0:s.parent)==null?void 0:y.type)==null?void 0:t.name)||void 0,h=Z(null),p=De(()=>{var L;return n.merge?(L=J(i))==null?void 0:L.editor():J(i)}),{refresh:c,resize:w,destroy:E,containerHeight:k,containerWidth:S,reviseStyle:F}=Bt({props:n,cminstance:i,presetRef:h}),{listenerEvents:M}=It({props:n,cminstance:i,emit:r,internalInstance:s,content:l}),I=()=>{n.unseenLines!==void 0&&n.marker!==void 0&&n.unseenLines.forEach(L=>{var N,V;const $=(N=i.value)==null?void 0:N.lineInfo(L);(V=i.value)==null||V.setGutterMarker(L,"breakpoints",$!=null&&$.gutterMarkers?null:n.marker())})},B=L=>{var N,V;const $=(N=i.value)==null?void 0:N.getValue();L!==$&&((V=i.value)==null||V.setValue(L),l.value=L,F()),I()},R=()=>{M(),I(),w(n.width,n.height),r("ready",i.value),ne([()=>n.width,()=>n.height],([L,N])=>{w(L,N)},{deep:!0})},j=()=>{if(n.options.mode==="fclog"||n.options.mode==="log"){a.value=Ct;return}if(n.merge){a.value=yt;return}a.value=We};return ne(()=>n.options,L=>{var N;for(const V in n.options)(N=p.value)==null||N.setOption(V,J(L[V]))},{deep:!0}),ne(()=>n.value,L=>{B(L)}),ne(()=>n.merge,j,{immediate:!0}),rt(()=>{E()}),_({cminstance:i,resize:w,refresh:c,destroy:E}),(L,N)=>(re(),fe("div",{class:ot(["codemirror-container",{merge:L.$props.merge,bordered:L.$props.border||L.$props.merge&&!n.originalStyle,"original-style":n.originalStyle}]),style:st({height:J(k),width:J(S)})},[(re(),it(lt(a.value),at({ref_key:"presetRef",ref:h,cminstance:i.value,"onUpdate:cminstance":N[0]||(N[0]=V=>i.value=V),style:{height:"100%"}},{...L.$props,...L.$attrs,options:f.value,name:J(g),content:l.value},{onReady:R}),null,16,["cminstance"]))],6))}});function Lt(O,_){_===void 0&&(_={});var b=_.insertAt;if(!(!O||typeof document>"u")){var T=document.head||document.getElementsByTagName("head")[0],y=document.createElement("style");y.type="text/css",b==="top"&&T.firstChild?T.insertBefore(y,T.firstChild):T.appendChild(y),y.styleSheet?y.styleSheet.cssText=O:y.appendChild(document.createTextNode(O))}}Lt(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 13px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border: 1px solid #aaaaaa;
}

.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);const Pt={class:"container"},Nt={class:"left-panel"},Rt={class:"esQuery-container"},Ut={class:"esQuery-label"},Vt={class:"controls"},jt={class:"sqlQuery-container"},Ht={class:"sqlQuery-label"},Wt={class:"controls"},zt={class:"right-panel"},$t={class:"footer-button",justify:"end"},Qt={class:"dialog-footer"},Gt=se({__name:"search",setup(O){const{proxy:_}=ze();let b=Z("SELECT * from fast_test_new_v128 order by id desc limit 10");const T=Z('Es.chainQuery().index("").search(10)');Z();const y=Z("");me(()=>{const k=localStorage.getItem("lastSql");k&&(b.value=k);const S=localStorage.getItem("lastEpl");S&&(T.value=S)});const t={theme:"default",mode:"application/json",lineNumbers:!0,matchBrackets:!0,lineWrapping:!0,styleActiveLine:!0,lint:!0},n={mode:"text/x-sql",theme:"default",line:!0,lineNumbers:!0,lineWrapping:!0,tabSize:4,hintOptions:{completeSingle:!1,tables:{BPSuv:["DocEntry","Subject","DocStatus","Remarks"],BPSuvA:["DocEntry","LineNum","Question","QstType"],BPSuvB:["DocEntry","LineNum","UserID","UserName"]}}},r={mode:"text/javascript",theme:"default",line:!0,lineNumbers:!0,lineWrapping:!0,tabSize:4,indentUnit:4},i={javascript:["Es","chainQuery()","filter()","must()","should()","mustNot()",'range("","from","to")','term("","")','terms("","")','match("","")','sortBy(DESC,"")','ge("","")','le("","")','gt("","")','lt("","")','matchPhrase("","")','termsKeyword("","")','wildcard("","")','fuzzy("","")',"ids([])","count()","search()","esAggWrapper()","EsChainQueryWrapper esChainQueryWrapper = ",'sum("name","")','count("","")','min("","")','max("","")','avg("","")','nested("","")','range("","")','filter("","")','filters("","")']},l=k=>{k.on("inputRead",()=>{if(k.somethingSelected())return;const S=k.getCursor(),F=k.getTokenAt(S),M=k.getLineTokens(S.line),I=k.getTokenTypeAt(S);console.log(F),console.log(M),console.log(I);const B=k.getOption("mode").split("/")[1],R=i[B]||[];k.showHint({completeSingle:!1,hint:()=>({from:CodeMirror.Pos(S.line,F.start),to:CodeMirror.Pos(S.line,F.end),list:R.filter(j=>j.toLowerCase().startsWith(F.string.toLowerCase()))})})})},a=k=>{k.on("inputRead",function(S,F){/[a-zA-Z]/.test(F.text[0])&&S.showHint()})},f=()=>{s(T.value)},s=async k=>{localStorage.setItem("lastEpl",k);const S={epl:k};let F=await _.$api.tools.eplQuery(S);const M=JSON.stringify(F,null,2);y.value=M},g=()=>{h(b.value)},h=async k=>{localStorage.setItem("lastSql",k);const S={sql:k};let F=await _.$api.tools.sqlQuery(S);const M=JSON.stringify(F,null,2);y.value=M},p=()=>{if(y.value){const S=JSON.parse(y.value).hits.hits;if(S&&S.length>0){const F=S[0]._index,M=S.map(B=>B._id),I=S.map(B=>B._source);console.log(F+I),je.confirm("\u786E\u5B9A\u7F16\u8F91"+M[0]+"...\u603B\u8BA1"+M.length+"\u4E2A\u6570\u636E?","\u7F16\u8F91\u786E\u8BA4",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",dangerouslyUseHTMLString:!0}).then(()=>{E(F,I)}).catch(()=>{})}}},c=()=>{if(y.value){const S=JSON.parse(y.value).hits.hits;if(S&&S.length>0){const F=S[0]._index,M=S.map(I=>I._id);console.log(F+M),je.confirm("\u786E\u5B9A\u5220\u9664"+M[0]+"...\u603B\u8BA1"+M.length+"\u4E2A\u6570\u636E?","\u5220\u9664\u786E\u8BA4",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",dangerouslyUseHTMLString:!0}).then(()=>{console.log("\u786E\u8BA4\u5220\u9664"),w(F,M)}).catch(()=>{})}}},w=async(k,S)=>{const F={ids:S,index:k};let M=await _.$api.tools.deleteByIds(F);const I=JSON.stringify(M,null,2);y.value=I},E=async(k,S)=>{const F={index:k,datas:S};await _.$api.tools.updateBatch(F)};return(k,S)=>{const F=ut;return re(),fe("div",Pt,[Y("div",Nt,[Y("div",Rt,[Y("label",Ut,[te(J(ke),{value:T.value,"onUpdate:value":S[0]||(S[0]=M=>T.value=M),options:r,ref:"epEditor",border:"",height:"300",width:"100%",onReady:l,class:"json-input",placeholder:"\u8BF7\u8F93\u5165es\u8BED\u53E5..."},null,8,["value"])]),Y("div",Vt,[te(F,{size:"small",icon:J(He),onClick:f},{default:de(()=>S[3]||(S[3]=[ve("\u641C\u7D22")])),_:1},8,["icon"])])]),Y("div",jt,[Y("label",Ht,[te(J(ke),{value:J(b),"onUpdate:value":S[1]||(S[1]=M=>gt(b)?b.value=M:b=M),options:n,ref:"sqlEditor",border:"",height:"300",width:"100%",onReady:a,class:"json-input",placeholder:"\u8BF7\u8F93\u5165Sql\u8BED\u53E5..."},null,8,["value"])]),Y("div",Wt,[te(F,{size:"small",icon:J(He),onClick:g},{default:de(()=>S[4]||(S[4]=[ve("\u641C\u7D22")])),_:1},8,["icon"])])])]),Y("div",zt,[te(J(ke),{value:y.value,"onUpdate:value":S[2]||(S[2]=M=>y.value=M),options:t,ref:"jsonEd",border:"",class:"json-output",height:"91%"},null,8,["value"]),Y("div",$t,[Y("span",Qt,[te(F,{onClick:p,type:"danger",size:"small"},{default:de(()=>S[5]||(S[5]=[ve("\u4FEE\u6539")])),_:1}),te(F,{type:"primary",onClick:c,size:"small"},{default:de(()=>S[6]||(S[6]=[ve("\u5220\u9664")])),_:1})])])])])}}});const Xt=ht(Gt,[["__scopeId","data-v-8cb434ea"]]);export{Xt as default};
