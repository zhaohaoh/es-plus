/* empty css             *//* empty css              *//* empty css                  *//* empty css               */import{_ as $}from"./index.b24fec7b.js";import"./javascript.825d15e1.js";import{d as S,r,S as T,o as A,T as U,b as O,M as R,c as j,Z as J,W as K,e as v,h as g,N as n,g as a,w as l,n as x,F as L,i as P,u as W,O as X,P as E,j as Y,$ as u,K as Z,_ as q}from"./index.e232bafd.js";const G={class:"container"},H={class:"searchInput"},Q={class:"index-item"},ee={style:{"font-size":"28px","font-weight":"bold"}},te={class:"health-font"},se={class:"index-size"},ne={class:"index-size"},ae={class:"index-size"},le={class:"editClass"},oe=S({__name:"esIndex",setup(ue){const d=r(""),D=async()=>{E.confirm("\u4F60\u786E\u5B9A\u4FDD\u5B58\u5417?",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{F(f.value,d.value)}).catch(()=>{})},F=async(s,e)=>{const o={indexName:s,mappings:e};await c.$api.esIndex.putMapping(o),i.value=!1,_("")},C=s=>{d.value=s},p=r("");T({id:null,unikey:"",name:"",address:"http://",username:"",password:"",schema:"http"});let i=r(!1),f=r("");const h=r([]),{proxy:c}=Y(),y=async s=>{await w(s),i.value=!0,f.value=s,console.log("\u5F53\u524D\u7D22\u5F15"+f.value)},w=async s=>{const e={indexName:s};let o=await c.$api.esIndex.getMapping(e);d.value=JSON.stringify(o,null,2)};A(()=>{_(p.value)});const I=()=>{_(p.value)},_=async s=>{const e={keyword:s};let o=await c.$api.esIndex.getIndices(e);h.value=o},k=async s=>{E.confirm("\u4F60\u786E\u5B9A\u5220\u9664\u7D22\u5F15"+s+"\u5417? \u8C28\u614E\u64CD\u4F5C",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{b(s)}).catch(()=>{})},b=async s=>{const e={indexName:s};await c.$api.esIndex.deleteIndex(e),_(p.value)};return(s,e)=>{const o=U,B=O,m=R,V=j,M=J,z=K;return v(),g("div",G,[n("div",H,[a(V,null,{default:l(()=>[a(B,{span:22},{default:l(()=>[a(o,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),placeholder:"\u8BF7\u8F93\u5165\u7D22\u5F15\u540D\u79F0",style:{width:"300px"},onChange:I},null,8,["modelValue"])]),_:1}),a(B,{span:2,style:{transform:"translateX(10px)"}},{default:l(()=>[a(m,{type:"primary",onClick:e[1]||(e[1]=t=>y(s.item.index)),plain:""},{default:l(()=>e[4]||(e[4]=[x("\u65B0\u5EFA\u7D22\u5F15")])),_:1})]),_:1})]),_:1})]),a(M,{height:"700px"},{default:l(()=>[(v(!0),g(L,null,P(h.value,t=>(v(),g("div",{key:t.index,class:"scrollbar-demo-item"},[n("div",Q,[n("span",ee,u(t.index),1),e[5]||(e[5]=n("span",{class:"health-font"},"health:",-1)),n("span",{class:"health",style:Z({background:t.health})},null,4),n("span",te,u(t.health),1),e[6]||(e[6]=n("span",{class:"health-font"},"status:",-1)),e[7]||(e[7]=n("span",{class:"health-font"},"open",-1))]),n("span",se," size: "+u(t["store.size"]),1),n("span",ne," docs: "+u(t["docs.count"])+" delete_docs: "+u(t["docs.deleted"]),1),n("span",ae," shards: "+u(t.pri)+" replice: "+u(t.rep),1),n("div",le,[a(m,{type:"primary",onClick:N=>y(t.index),plain:""},{default:l(()=>e[8]||(e[8]=[x("\u8BBE\u7F6E\u6620\u5C04")])),_:2},1032,["onClick"]),a(m,{type:"danger",onClick:N=>k(t.index),plain:""},{default:l(()=>e[9]||(e[9]=[x("\u5220\u9664")])),_:2},1032,["onClick"])])]))),128))]),_:1}),a(z,{modelValue:W(i),"onUpdate:modelValue":e[3]||(e[3]=t=>X(i)?i.value=t:i=t),title:"\u8BBE\u7F6E\u6620\u5C04",style:{"max-width":"700px",position:"relative",height:"750px",transform:"translateY(-50px)"}},{default:l(()=>[n("div",null,[a($,{value:d.value,"onUpdate:value":[e[2]||(e[2]=t=>d.value=t),C],height:"600",styles:"width: 100%",title:"\u65B0\u589E\u6620\u5C04\u7ED3\u6784"},null,8,["value"])]),a(m,{type:"success",onClick:D,style:{position:"absolute",right:"10px",bottom:"10px"}},{default:l(()=>e[10]||(e[10]=[x(" \u4FDD\u5B58/\u4FEE\u6539\u6620\u5C04 ")])),_:1})]),_:1},8,["modelValue"])])}}});const xe=q(oe,[["__scopeId","data-v-bef661a7"]]);export{xe as default};
