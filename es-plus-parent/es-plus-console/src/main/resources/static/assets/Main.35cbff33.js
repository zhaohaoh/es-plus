/* empty css               *//* empty css              *//* empty css                *//* empty css               */import{o as v}from"./global.59d43353.js";import{d as x,r as C,o as $,E as y,a as A,b as I,c as V,e as S,f as m,g,w as n,h as e,i as h,j as B,u as H,F as O,k as L,_ as M,l as R,m as D,n as F,p,q as N,s as T,t as K,v as U,x as j,y as q,z,A as G}from"./index.3900749f.js";const k=x({__name:"ComponentHead",setup(_){const{proxy:o}=L(),a=C(),c=t=>{localStorage.setItem("currentClient",t)};$(()=>{const t=localStorage.getItem("currentClient");if(!t){y.error("\u8BF7\u9009\u62E9\u7D22\u5F15\u94FE\u63A5");return}a.value=t,i()});const i=async()=>{if(!a.value){y.error("\u8BF7\u9009\u62E9\u7D22\u5F15\u94FE\u63A5");return}let t=await o.$api.esClient.esClientList();t&&t.length>0&&(v.value.length=0,t.forEach((l,s)=>{v.value[s]=l}))};return(t,l)=>{const s=A,u=I,d=V,f=S;return m(),g(f,{class:"row-bg"},{default:n(()=>[e(d,{span:2,offset:19},{default:n(()=>[e(u,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),class:"m-2",placeholder:"Select",style:{width:"225px",transform:"translateX(60px)"},filterable:"",onChange:c},{default:n(()=>[(m(!0),h(O,null,B(H(v),r=>(m(),g(s,{key:r.id,label:`${r.unikey} (${r.name})`,value:r.unikey,valueKey:r.unikey},null,8,["label","value","valueKey"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const X={setup(){const _=R(),o=D();let a=C([]),c=C([]);const i=t=>{o.commit("user/setCurrentMenu",t),_.push(t.path)};return $(()=>{let t=o.state.user.menu;a.value=t.filter(l=>l.type==="MENU"),console.log(a),c.value=t.filter(l=>l.type==="CATALOG"),console.log(c)}),{noChild:a,hasChild:c,openMenu:i}}};function J(_,o,a,c,i,t){const l=F("icon-menu"),s=N,u=T,d=K;return m(),g(d,{"default-active":"2","background-color":"#F2F3F5",class:"el-menu-vertical-demo",collapse:_.isCollapse,onOpen:_.handleOpen,onClose:_.handleClose,router:""},{default:n(()=>[e(u,{index:"/esIndex"},{title:n(()=>o[0]||(o[0]=[p("\u7D22\u5F15\u7BA1\u7406")])),default:n(()=>[e(s,null,{default:n(()=>[e(l)]),_:1})]),_:1}),e(u,{index:"/search"},{title:n(()=>o[1]||(o[1]=[p("\u57FA\u7840\u641C\u7D22")])),default:n(()=>[e(s,null,{default:n(()=>[e(l)]),_:1})]),_:1}),e(u,{index:"/esTable"},{title:n(()=>o[2]||(o[2]=[p("\u9AD8\u7EA7\u641C\u7D22")])),default:n(()=>[e(s,null,{default:n(()=>[e(l)]),_:1})]),_:1}),e(u,{index:"/esAddress"},{title:n(()=>o[3]||(o[3]=[p("\u94FE\u63A5\u7BA1\u7406")])),default:n(()=>[e(s,null,{default:n(()=>[e(l)]),_:1})]),_:1}),e(u,{index:"/login"},{title:n(()=>o[4]||(o[4]=[p("\u91CD\u65B0\u767B\u9646")])),default:n(()=>[e(s,null,{default:n(()=>[e(l)]),_:1})]),_:1})]),_:1},8,["collapse","onOpen","onClose","default-active"])}const w=M(X,[["render",J]]);const P=x({components:{ComponentMenu:w,ComponentHead:k}}),Q={class:"common-layout"};function W(_,o,a,c,i,t){const l=w,s=U,u=j,d=k,f=q,r=F("RouterView"),b=z,E=G;return m(),h("div",Q,[e(E,null,{default:n(()=>[e(s,{width:"200px",class:"menu"},{default:n(()=>[e(l)]),_:1}),e(u,{direction:"vertical",height:"100%"}),e(E,null,{default:n(()=>[e(f,null,{default:n(()=>[e(d)]),_:1}),e(b,null,{default:n(()=>[e(r)]),_:1})]),_:1})]),_:1})])}const le=M(P,[["render",W]]);export{le as default};
